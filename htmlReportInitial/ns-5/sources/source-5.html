


<!DOCTYPE html>
<html id="htmlId">
<head>
  <meta http-equiv="Content-Type" content="text/html;charset=windows-1252"> 
  <title>Coverage Report > Base64OutputStream</title>
  <style type="text/css">
    @import "../../css/coverage.css";
    @import "../../css/idea.min.css";
  </style>
  <script type="text/javascript" src="../../js/highlight.min.js"></script>
  <script type="text/javascript" src="../../js/highlightjs-line-numbers.min.js"></script>
</head>

<body>
<div class="content">
<div class="breadCrumbs">
Current scope:     <a href="../../index.html">all classes</a>
    <span class="separator">|</span>
    <a href="../index.html">io.jsonwebtoken.impl.io</a>
</div>

<h1>Coverage Summary for Class: Base64OutputStream (io.jsonwebtoken.impl.io)</h1>

<table class="coverageStats">
<tr>
  <th class="name">Class</th>
<th class="coverageStat 
">
  Class, %
</th>
<th class="coverageStat 
">
  Method, %
</th>
<th class="coverageStat 
">
  Line, %
</th>
</tr>
<tr>
  <td class="name">Base64OutputStream</td>
<td class="coverageStat">
  <span class="percent">
    100%
  </span>
  <span class="absValue">
    (1/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    50%
  </span>
  <span class="absValue">
    (2/4)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    50%
  </span>
  <span class="absValue">
    (2/4)
  </span>
</td>
</tr>

</table>

<br/>
<br/>


<pre>
<code class="sourceCode" id="sourceCode">&nbsp;/*
&nbsp; * Copyright © 2023 jsonwebtoken.io
&nbsp; *
&nbsp; * Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);
&nbsp; * you may not use this file except in compliance with the License.
&nbsp; * You may obtain a copy of the License at
&nbsp; *
&nbsp; *     http://www.apache.org/licenses/LICENSE-2.0
&nbsp; *
&nbsp; * Unless required by applicable law or agreed to in writing, software
&nbsp; * distributed under the License is distributed on an &quot;AS IS&quot; BASIS,
&nbsp; * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
&nbsp; * See the License for the specific language governing permissions and
&nbsp; * limitations under the License.
&nbsp; */
&nbsp;package io.jsonwebtoken.impl.io;
&nbsp;
&nbsp;import java.io.OutputStream;
&nbsp;
&nbsp;/**
&nbsp; * Provides Base64 encoding and decoding in a streaming fashion (unlimited size). When encoding the default lineLength
&nbsp; * is 76 characters and the default lineEnding is CRLF, but these can be overridden by using the appropriate
&nbsp; * constructor.
&nbsp; * &lt;p&gt;
&nbsp; * The default behavior of the Base64OutputStream is to ENCODE, whereas the default behavior of the Base64InputStream
&nbsp; * is to DECODE. But this behavior can be overridden by using a different constructor.
&nbsp; * &lt;/p&gt;
&nbsp; * &lt;p&gt;
&nbsp; * This class implements section &lt;cite&gt;6.8. Base64 Content-Transfer-Encoding&lt;/cite&gt; from RFC 2045 &lt;cite&gt;Multipurpose
&nbsp; * Internet Mail Extensions (MIME) Part One: Format of Internet Message Bodies&lt;/cite&gt; by Freed and Borenstein.
&nbsp; * &lt;/p&gt;
&nbsp; * &lt;p&gt;
&nbsp; * Since this class operates directly on byte streams, and not character streams, it is hard-coded to only encode/decode
&nbsp; * character encodings which are compatible with the lower 127 ASCII chart (ISO-8859-1, Windows-1252, UTF-8, etc).
&nbsp; * &lt;/p&gt;
&nbsp; * &lt;p&gt;
&nbsp; * &lt;b&gt;Note:&lt;/b&gt; It is mandatory to close the stream after the last byte has been written to it, otherwise the
&nbsp; * final padding will be omitted and the resulting data will be incomplete/inconsistent.
&nbsp; * &lt;/p&gt;
&nbsp; * &lt;p&gt;
&nbsp; * You can set the decoding behavior when the input bytes contain leftover trailing bits that cannot be created by a
&nbsp; * valid encoding. These can be bits that are unused from the final character or entire characters. The default mode is
&nbsp; * lenient decoding.
&nbsp; * &lt;/p&gt;
&nbsp; * &lt;ul&gt;
&nbsp; * &lt;li&gt;Lenient: Any trailing bits are composed into 8-bit bytes where possible. The remainder are discarded.
&nbsp; * &lt;li&gt;Strict: The decoding will raise an {@link IllegalArgumentException} if trailing bits are not part of a valid
&nbsp; * encoding. Any unused bits from the final character must be zero. Impossible counts of entire final characters are not
&nbsp; * allowed.
&nbsp; * &lt;/ul&gt;
&nbsp; * &lt;p&gt;
&nbsp; * When strict decoding is enabled it is expected that the decoded bytes will be re-encoded to a byte array that matches
&nbsp; * the original, i.e. no changes occur on the final character. This requires that the input bytes use the same padding
&nbsp; * and alphabet as the encoder.
&nbsp; * &lt;/p&gt;
&nbsp; *
&nbsp; * @see &lt;a href=&quot;http://www.ietf.org/rfc/rfc2045.txt&quot;&gt;RFC 2045&lt;/a&gt;
&nbsp; * @since 0.12.0, copied from
&nbsp; * &lt;a href=&quot;https://github.com/apache/commons-codec/tree/585497f09b026f6602daf986723a554e051bdfe6&quot;&gt;commons-codec
&nbsp; * 585497f09b026f6602daf986723a554e051bdfe6&lt;/a&gt;
&nbsp; */
&nbsp;class Base64OutputStream extends BaseNCodecOutputStream {
&nbsp;
&nbsp;    /**
&nbsp;     * Creates a Base64OutputStream such that all data written is Base64-encoded to the original provided OutputStream.
&nbsp;     *
&nbsp;     * @param outputStream OutputStream to wrap.
&nbsp;     */
&nbsp;    Base64OutputStream(final OutputStream outputStream) {
<b class="fc">&nbsp;        this(outputStream, true, true);</b>
&nbsp;    }
&nbsp;
&nbsp;    /**
&nbsp;     * Creates a Base64OutputStream such that all data written is either Base64-encoded or Base64-decoded to the
&nbsp;     * original provided OutputStream.
&nbsp;     *
&nbsp;     * @param outputStream OutputStream to wrap.
&nbsp;     * @param doEncode     true if we should encode all data written to us, false if we should decode.
&nbsp;     */
&nbsp;    Base64OutputStream(final OutputStream outputStream, final boolean doEncode, boolean urlSafe) {
<b class="fc">&nbsp;        super(outputStream, new Base64Codec(0, BaseNCodec.CHUNK_SEPARATOR, urlSafe), doEncode);</b>
&nbsp;    }
&nbsp;
&nbsp;    /**
&nbsp;     * Creates a Base64OutputStream such that all data written is either Base64-encoded or Base64-decoded to the
&nbsp;     * original provided OutputStream.
&nbsp;     *
&nbsp;     * @param outputStream  OutputStream to wrap.
&nbsp;     * @param doEncode      true if we should encode all data written to us, false if we should decode.
&nbsp;     * @param lineLength    If doEncode is true, each line of encoded data will contain lineLength characters (rounded down to
&nbsp;     *                      the nearest multiple of 4). If lineLength &amp;lt;= 0, the encoded data is not divided into lines. If
&nbsp;     *                      doEncode is false, lineLength is ignored.
&nbsp;     * @param lineSeparator If doEncode is true, each line of encoded data will be terminated with this byte sequence (e.g. \r\n).
&nbsp;     *                      If lineLength &amp;lt;= 0, the lineSeparator is not used. If doEncode is false lineSeparator is ignored.
&nbsp;     */
&nbsp;    Base64OutputStream(final OutputStream outputStream, final boolean doEncode, final int lineLength, final byte[] lineSeparator) {
<b class="nc">&nbsp;        super(outputStream, new Base64Codec(lineLength, lineSeparator), doEncode);</b>
&nbsp;    }
&nbsp;
&nbsp;    /**
&nbsp;     * Creates a Base64OutputStream such that all data written is either Base64-encoded or Base64-decoded to the
&nbsp;     * original provided OutputStream.
&nbsp;     *
&nbsp;     * @param outputStream   OutputStream to wrap.
&nbsp;     * @param doEncode       true if we should encode all data written to us, false if we should decode.
&nbsp;     * @param lineLength     If doEncode is true, each line of encoded data will contain lineLength characters (rounded down to
&nbsp;     *                       the nearest multiple of 4). If lineLength &amp;lt;= 0, the encoded data is not divided into lines. If
&nbsp;     *                       doEncode is false, lineLength is ignored.
&nbsp;     * @param lineSeparator  If doEncode is true, each line of encoded data will be terminated with this byte sequence (e.g. \r\n).
&nbsp;     *                       If lineLength &amp;lt;= 0, the lineSeparator is not used. If doEncode is false lineSeparator is ignored.
&nbsp;     * @param decodingPolicy The decoding policy.
&nbsp;     * @since 1.15
&nbsp;     */
&nbsp;    Base64OutputStream(final OutputStream outputStream, final boolean doEncode, final int lineLength,
&nbsp;                       final byte[] lineSeparator, final CodecPolicy decodingPolicy) {
<b class="nc">&nbsp;        super(outputStream, new Base64Codec(lineLength, lineSeparator, false, decodingPolicy), doEncode);</b>
&nbsp;    }
&nbsp;}
</code>
</pre>
</div>

<script type="text/javascript">
(function() {
    var msie = false, msie9 = false;
    /*@cc_on
      msie = true;
      @if (@_jscript_version >= 9)
        msie9 = true;
      @end
    @*/

    if (!msie || msie && msie9) {
      hljs.highlightAll()
      hljs.initLineNumbersOnLoad();
    }
})();
</script>

<div class="footer">
    
    <div style="float:right;">generated on 2023-11-02 22:13</div>
</div>
</body>
</html>
