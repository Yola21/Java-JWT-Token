


<!DOCTYPE html>
<html id="htmlId">
<head>
  <meta http-equiv="Content-Type" content="text/html;charset=windows-1252"> 
  <title>Coverage Report > Jwk</title>
  <style type="text/css">
    @import "../../css/coverage.css";
    @import "../../css/idea.min.css";
  </style>
  <script type="text/javascript" src="../../js/highlight.min.js"></script>
  <script type="text/javascript" src="../../js/highlightjs-line-numbers.min.js"></script>
</head>

<body>
<div class="content">
<div class="breadCrumbs">
Current scope:     <a href="../../index.html">all classes</a>
    <span class="separator">|</span>
    <a href="../index.html">io.jsonwebtoken.security</a>
</div>

<h1>Coverage Summary for Class: Jwk (io.jsonwebtoken.security)</h1>

<table class="coverageStats">

<tr>
  <th class="name">Class</th>
</tr>
  <tr>
    <td class="name">Jwk$getAlgorithm$1</td>
  </tr>
  <tr>
    <td class="name">Jwk$getOperations</td>
  </tr>
  <tr>
    <td class="name">Jwk$getType$0</td>
  </tr>
  <tr>
    <td class="name">Jwk$thumbprint$3</td>
  </tr>
  <tr>
    <td class="name">Jwk$thumbprint$4</td>
  </tr>
  <tr>
    <td class="name">Jwk$toKey$2</td>
  </tr>
<tr>
  <td class="name"><strong>Total</strong></td>
</tr>
</table>

<br/>
<br/>


<pre>
<code class="sourceCode" id="sourceCode">&nbsp;/*
&nbsp; * Copyright (C) 2021 jsonwebtoken.io
&nbsp; *
&nbsp; * Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);
&nbsp; * you may not use this file except in compliance with the License.
&nbsp; * You may obtain a copy of the License at
&nbsp; *
&nbsp; *     http://www.apache.org/licenses/LICENSE-2.0
&nbsp; *
&nbsp; * Unless required by applicable law or agreed to in writing, software
&nbsp; * distributed under the License is distributed on an &quot;AS IS&quot; BASIS,
&nbsp; * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
&nbsp; * See the License for the specific language governing permissions and
&nbsp; * limitations under the License.
&nbsp; */
&nbsp;package io.jsonwebtoken.security;
&nbsp;
&nbsp;import io.jsonwebtoken.Identifiable;
&nbsp;import io.jsonwebtoken.lang.Supplier;
&nbsp;
&nbsp;import java.security.Key;
&nbsp;import java.util.Map;
&nbsp;import java.util.Set;
&nbsp;
&nbsp;/**
&nbsp; * A JWK is an immutable set of name/value pairs that represent a cryptographic key as defined by
&nbsp; * &lt;a href=&quot;https://www.rfc-editor.org/rfc/rfc7517.html&quot;&gt;RFC 7517: JSON Web Key (JWK)&lt;/a&gt;.  The {@code Jwk}
&nbsp; * interface represents properties common to all JWKs.  Subtypes will have additional properties specific to
&nbsp; * different types of cryptographic keys (e.g. Secret, Asymmetric, RSA, Elliptic Curve, etc).
&nbsp; *
&nbsp; * &lt;p&gt;&lt;b&gt;Immutability&lt;/b&gt;&lt;/p&gt;
&nbsp; *
&nbsp; * &lt;p&gt;JWKs are immutable and cannot be changed after they are created.  {@code Jwk} extends the
&nbsp; * {@link Map} interface purely out of convenience: to allow easy marshalling to JSON as well as name/value
&nbsp; * pair access and key/value iteration, and other conveniences provided by the Map interface.  Attempting to call any of
&nbsp; * the {@link Map} interface&#39;s mutation methods however (such as {@link Map#put(Object, Object) put},
&nbsp; * {@link Map#remove(Object) remove}, {@link Map#clear() clear}, etc) will throw an
&nbsp; * {@link UnsupportedOperationException}.&lt;/p&gt;
&nbsp; *
&nbsp; * &lt;p&gt;&lt;b&gt;Identification&lt;/b&gt;&lt;/p&gt;
&nbsp; *
&nbsp; * &lt;p&gt;{@code Jwk} extends {@link Identifiable} to support the
&nbsp; * &lt;a href=&quot;https://www.rfc-editor.org/rfc/rfc7517.html#section-4.5&quot;&gt;JWK {@code kid} parameter&lt;/a&gt;. Calling
&nbsp; * {@link #getId() aJwk.getId()} is the type-safe idiomatic approach to the alternative equivalent of
&nbsp; * {@code aJwk.get(&quot;kid&quot;)}. Either approach will return an id if one was originally set on the JWK, or {@code null} if
&nbsp; * an id does not exist.&lt;/p&gt;
&nbsp; *
&nbsp; * &lt;p&gt;&lt;b&gt;Private and Secret Value Safety&lt;/b&gt;&lt;/p&gt;
&nbsp; *
&nbsp; * &lt;p&gt;JWKs often represent secret or private key data which should never be exposed publicly, nor mistakenly printed
&nbsp; * to application logs or {@code System.out.println} calls.  As a result, all JJWT JWK
&nbsp; * private or secret values are &#39;wrapped&#39; in a {@link io.jsonwebtoken.lang.Supplier Supplier} instance to ensure
&nbsp; * any attempt to call {@link String#toString() toString()} on the value will print a redacted value instead of an
&nbsp; * actual private or secret value.&lt;/p&gt;
&nbsp; *
&nbsp; * &lt;p&gt;For example, a {@link SecretJwk} will have an internal &amp;quot;{@code k}&amp;quot; member whose value reflects raw
&nbsp; * key material that should always be kept secret.  If the following is called:&lt;/p&gt;
&nbsp; * &lt;blockquote&gt;&lt;pre&gt;
&nbsp; * System.out.println(aSecretJwk.get(&amp;quot;k&amp;quot;));&lt;/pre&gt;&lt;/blockquote&gt;
&nbsp; * &lt;p&gt;You would see the following:&lt;/p&gt;
&nbsp; * &lt;blockquote&gt;&lt;pre&gt;
&nbsp; * &amp;lt;redacted&amp;gt;&lt;/pre&gt;&lt;/blockquote&gt;
&nbsp; * &lt;p&gt;instead of the actual/raw {@code k} value.&lt;/p&gt;
&nbsp; *
&nbsp; * &lt;p&gt;Similarly, if attempting to print the entire JWK:&lt;/p&gt;
&nbsp; * &lt;blockquote&gt;&lt;pre&gt;
&nbsp; * System.out.println(aSecretJwk);&lt;/pre&gt;&lt;/blockquote&gt;
&nbsp; * &lt;p&gt;You would see the following substring in the output:&lt;/p&gt;
&nbsp; * &lt;blockquote&gt;&lt;pre&gt;
&nbsp; * k=&amp;lt;redacted&amp;gt;&lt;/pre&gt;&lt;/blockquote&gt;
&nbsp; * &lt;p&gt;instead of the actual/raw {@code k} value.&lt;/p&gt;
&nbsp; *
&nbsp; * &lt;p&gt;Finally, because all private or secret values are wrapped as {@link io.jsonwebtoken.lang.Supplier}
&nbsp; * instances, if you really wanted the &lt;em&gt;real&lt;/em&gt; internal value, you could just call the supplier&#39;s
&nbsp; * {@link Supplier#get() get()} method:&lt;/p&gt;
&nbsp; * &lt;blockquote&gt;&lt;pre&gt;
&nbsp; * String k = ((Supplier&amp;lt;String&amp;gt;)aSecretJwk.get(&amp;quot;k&amp;quot;)).get();&lt;/pre&gt;&lt;/blockquote&gt;
&nbsp; * &lt;p&gt;but &lt;b&gt;&lt;em&gt;BE CAREFUL&lt;/em&gt;&lt;/b&gt;: obtaining the raw value in your application code exposes greater security
&nbsp; * risk - you must ensure to keep that value safe and out of console or log output.  It is almost always better to
&nbsp; * interact with the JWK&#39;s {@link #toKey() toKey()} instance directly instead of accessing
&nbsp; * JWK internal serialization parameters.&lt;/p&gt;
&nbsp; *
&nbsp; * @param &lt;K&gt; The type of Java {@link Key} represented by this JWK
&nbsp; * @since 0.12.0
&nbsp; */
&nbsp;public interface Jwk&lt;K extends Key&gt; extends Identifiable, Map&lt;String, Object&gt; {
&nbsp;
&nbsp;    /**
&nbsp;     * Returns the JWK
&nbsp;     * &lt;a href=&quot;https://www.rfc-editor.org/rfc/rfc7517.html#section-4.4&quot;&gt;{@code alg} (Algorithm)&lt;/a&gt; value
&nbsp;     * or {@code null} if not present.
&nbsp;     *
&nbsp;     * @return the JWK {@code alg} value or {@code null} if not present.
&nbsp;     */
&nbsp;    String getAlgorithm();
&nbsp;
&nbsp;    /**
&nbsp;     * Returns the JWK &lt;a href=&quot;https://www.rfc-editor.org/rfc/rfc7517.html#section-4.3&quot;&gt;{@code key_ops}
&nbsp;     * (Key Operations) parameter&lt;/a&gt; values or {@code null} if not present.  All JWK standard Key Operations are
&nbsp;     * available via the {@link Jwks.OP} registry, but other (custom) values &lt;em&gt;MAY&lt;/em&gt; be present in the returned
&nbsp;     * set.
&nbsp;     *
&nbsp;     * @return the JWK {@code key_ops} value or {@code null} if not present.
&nbsp;     * @see &lt;a href=&quot;https://www.rfc-editor.org/rfc/rfc7517.html#section-4.3&quot;&gt;&lt;code&gt;key_ops&lt;/code&gt;(Key Operations) Parameter&lt;/a&gt;
&nbsp;     */
&nbsp;    Set&lt;KeyOperation&gt; getOperations();
&nbsp;
&nbsp;    /**
&nbsp;     * Returns the required JWK
&nbsp;     * &lt;a href=&quot;https://www.rfc-editor.org/rfc/rfc7517.html#section-4.1&quot;&gt;{@code kty} (Key Type)
&nbsp;     * parameter&lt;/a&gt; value. A value is required and may not be {@code null}.
&nbsp;     *
&nbsp;     * &lt;p&gt;The JWA specification &lt;a href=&quot;https://www.rfc-editor.org/rfc/rfc7518.html#section-6.1&quot;&gt;defines&lt;/a&gt; the
&nbsp;     * following {@code kty} values:&lt;/p&gt;
&nbsp;     *
&nbsp;     * &lt;table&gt;
&nbsp;     * &lt;caption&gt;JWK Key Types&lt;/caption&gt;
&nbsp;     * &lt;thead&gt;
&nbsp;     * &lt;tr&gt;
&nbsp;     * &lt;th&gt;Value&lt;/th&gt;
&nbsp;     * &lt;th&gt;Key Type&lt;/th&gt;
&nbsp;     * &lt;/tr&gt;
&nbsp;     * &lt;/thead&gt;
&nbsp;     * &lt;tbody&gt;
&nbsp;     * &lt;tr&gt;
&nbsp;     * &lt;td&gt;&lt;b&gt;{@code EC}&lt;/b&gt;&lt;/td&gt;
&nbsp;     * &lt;td&gt;Elliptic Curve [&lt;a href=&quot;https://nvlpubs.nist.gov/nistpubs/FIPS/NIST.FIPS.186-4.pdf&quot;&gt;DSS&lt;/a&gt;]&lt;/td&gt;
&nbsp;     * &lt;/tr&gt;
&nbsp;     * &lt;tr&gt;
&nbsp;     * &lt;td&gt;&lt;b&gt;{@code RSA}&lt;/b&gt;&lt;/td&gt;
&nbsp;     * &lt;td&gt;RSA [&lt;a href=&quot;https://datatracker.ietf.org/doc/html/rfc3447&quot;&gt;RFC 3447&lt;/a&gt;]&lt;/td&gt;
&nbsp;     * &lt;/tr&gt;
&nbsp;     * &lt;tr&gt;
&nbsp;     * &lt;td&gt;&lt;b&gt;{@code oct}&lt;/b&gt;&lt;/td&gt;
&nbsp;     * &lt;td&gt;Octet sequence (used to represent symmetric keys)&lt;/td&gt;
&nbsp;     * &lt;/tr&gt;
&nbsp;     * &lt;tr&gt;
&nbsp;     * &lt;td&gt;&lt;b&gt;{@code OKP}&lt;/b&gt;&lt;/td&gt;
&nbsp;     * &lt;td&gt;&lt;a href=&quot;https://www.rfc-editor.org/rfc/rfc8037#section-2&quot;&gt;Octet Key Pair&lt;/a&gt; (used to represent Edwards
&nbsp;     * Elliptic Curve keys)&lt;/td&gt;
&nbsp;     * &lt;/tr&gt;
&nbsp;     * &lt;/tbody&gt;
&nbsp;     * &lt;/table&gt;
&nbsp;     *
&nbsp;     * @return the JWK {@code kty} (Key Type) value.
&nbsp;     */
&nbsp;    String getType();
&nbsp;
&nbsp;    /**
&nbsp;     * Computes and returns the canonical &lt;a href=&quot;https://www.rfc-editor.org/rfc/rfc7638&quot;&gt;JWK Thumbprint&lt;/a&gt; of this
&nbsp;     * JWK using the {@code SHA-256} hash algorithm.  This is a convenience method that delegates to
&nbsp;     * {@link #thumbprint(HashAlgorithm)} with a {@code SHA-256} {@link HashAlgorithm} instance.
&nbsp;     *
&nbsp;     * @return the canonical &lt;a href=&quot;https://www.rfc-editor.org/rfc/rfc7638&quot;&gt;JWK Thumbprint&lt;/a&gt; of this
&nbsp;     * JWK using the {@code SHA-256} hash algorithm.
&nbsp;     * @see #thumbprint(HashAlgorithm)
&nbsp;     */
&nbsp;    JwkThumbprint thumbprint();
&nbsp;
&nbsp;    /**
&nbsp;     * Computes and returns the canonical &lt;a href=&quot;https://www.rfc-editor.org/rfc/rfc7638&quot;&gt;JWK Thumbprint&lt;/a&gt; of this
&nbsp;     * JWK using the specified hash algorithm.
&nbsp;     *
&nbsp;     * @param alg the hash algorithm to use to compute the digest of the canonical JWK Thumbprint JSON form of this JWK.
&nbsp;     * @return the canonical &lt;a href=&quot;https://www.rfc-editor.org/rfc/rfc7638&quot;&gt;JWK Thumbprint&lt;/a&gt; of this
&nbsp;     * JWK using the specified hash algorithm.
&nbsp;     */
&nbsp;    JwkThumbprint thumbprint(HashAlgorithm alg);
&nbsp;
&nbsp;    /**
&nbsp;     * Represents the JWK as its corresponding Java {@link Key} instance for use with Java cryptographic
&nbsp;     * APIs.
&nbsp;     *
&nbsp;     * @return the JWK&#39;s corresponding Java {@link Key} instance for use with Java cryptographic APIs.
&nbsp;     */
&nbsp;    K toKey();
&nbsp;}
</code>
</pre>
</div>

<script type="text/javascript">
(function() {
    var msie = false, msie9 = false;
    /*@cc_on
      msie = true;
      @if (@_jscript_version >= 9)
        msie9 = true;
      @end
    @*/

    if (!msie || msie && msie9) {
      hljs.highlightAll()
      hljs.initLineNumbersOnLoad();
    }
})();
</script>

<div class="footer">
    
    <div style="float:right;">generated on 2023-11-02 22:13</div>
</div>
</body>
</html>
