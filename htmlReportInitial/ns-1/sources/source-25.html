


<!DOCTYPE html>
<html id="htmlId">
<head>
  <meta http-equiv="Content-Type" content="text/html;charset=windows-1252"> 
  <title>Coverage Report > JwtBuilder</title>
  <style type="text/css">
    @import "../../css/coverage.css";
    @import "../../css/idea.min.css";
  </style>
  <script type="text/javascript" src="../../js/highlight.min.js"></script>
  <script type="text/javascript" src="../../js/highlightjs-line-numbers.min.js"></script>
</head>

<body>
<div class="content">
<div class="breadCrumbs">
Current scope:     <a href="../../index.html">all classes</a>
    <span class="separator">|</span>
    <a href="../index.html">io.jsonwebtoken</a>
</div>

<h1>Coverage Summary for Class: JwtBuilder (io.jsonwebtoken)</h1>

<table class="coverageStats">

<tr>
  <th class="name">Class</th>
</tr>
  <tr>
    <td class="name">JwtBuilder$addClaims$27</td>
  </tr>
  <tr>
    <td class="name">JwtBuilder$b64Url$30</td>
  </tr>
  <tr>
    <td class="name">JwtBuilder$base64UrlEncodeWith$31</td>
  </tr>
  <tr>
    <td class="name">JwtBuilder$BuilderClaims</td>
  </tr>
  <tr>
    <td class="name">JwtBuilder$BuilderHeader</td>
  </tr>
  <tr>
    <td class="name">JwtBuilder$claim</td>
  </tr>
  <tr>
    <td class="name">JwtBuilder$claims$12</td>
  </tr>
  <tr>
    <td class="name">JwtBuilder$compact$0</td>
  </tr>
  <tr>
    <td class="name">JwtBuilder$compact$1</td>
  </tr>
  <tr>
    <td class="name">JwtBuilder$compressWith$17</td>
  </tr>
  <tr>
    <td class="name">JwtBuilder$content$13</td>
  </tr>
  <tr>
    <td class="name">JwtBuilder$content$15</td>
  </tr>
  <tr>
    <td class="name">JwtBuilder$content$16</td>
  </tr>
  <tr>
    <td class="name">JwtBuilder$content$19</td>
  </tr>
  <tr>
    <td class="name">JwtBuilder$content$21</td>
  </tr>
  <tr>
    <td class="name">JwtBuilder$content$23</td>
  </tr>
  <tr>
    <td class="name">JwtBuilder$encodePayload$22</td>
  </tr>
  <tr>
    <td class="name">JwtBuilder$encryptWith$11</td>
  </tr>
  <tr>
    <td class="name">JwtBuilder$encryptWith$14</td>
  </tr>
  <tr>
    <td class="name">JwtBuilder$expiration$3</td>
  </tr>
  <tr>
    <td class="name">JwtBuilder$header$20</td>
  </tr>
  <tr>
    <td class="name">JwtBuilder$id$8</td>
  </tr>
  <tr>
    <td class="name">JwtBuilder$issuer$18</td>
  </tr>
  <tr>
    <td class="name">JwtBuilder$json$25</td>
  </tr>
  <tr>
    <td class="name">JwtBuilder$notBefore$6</td>
  </tr>
  <tr>
    <td class="name">JwtBuilder$provider$32</td>
  </tr>
  <tr>
    <td class="name">JwtBuilder$random$26</td>
  </tr>
  <tr>
    <td class="name">JwtBuilder$serializeToJsonWith$34</td>
  </tr>
  <tr>
    <td class="name">JwtBuilder$setClaims$24</td>
  </tr>
  <tr>
    <td class="name">JwtBuilder$setHeader$28</td>
  </tr>
  <tr>
    <td class="name">JwtBuilder$setHeaderParam$35</td>
  </tr>
  <tr>
    <td class="name">JwtBuilder$setHeaderParams$29</td>
  </tr>
  <tr>
    <td class="name">JwtBuilder$setPayload$2</td>
  </tr>
  <tr>
    <td class="name">JwtBuilder$signWith$0</td>
  </tr>
  <tr>
    <td class="name">JwtBuilder$signWith$1</td>
  </tr>
  <tr>
    <td class="name">JwtBuilder$signWith$10</td>
  </tr>
  <tr>
    <td class="name">JwtBuilder$signWith$33</td>
  </tr>
  <tr>
    <td class="name">JwtBuilder$signWith$5</td>
  </tr>
  <tr>
    <td class="name">JwtBuilder$signWith$7</td>
  </tr>
  <tr>
    <td class="name">JwtBuilder$signWith$9</td>
  </tr>
  <tr>
    <td class="name">JwtBuilder$subject$4</td>
  </tr>
<tr>
  <td class="name"><strong>Total</strong></td>
</tr>
</table>

<br/>
<br/>


<pre>
<code class="sourceCode" id="sourceCode">&nbsp;/*
&nbsp; * Copyright (C) 2014 jsonwebtoken.io
&nbsp; *
&nbsp; * Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);
&nbsp; * you may not use this file except in compliance with the License.
&nbsp; * You may obtain a copy of the License at
&nbsp; *
&nbsp; *     http://www.apache.org/licenses/LICENSE-2.0
&nbsp; *
&nbsp; * Unless required by applicable law or agreed to in writing, software
&nbsp; * distributed under the License is distributed on an &quot;AS IS&quot; BASIS,
&nbsp; * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
&nbsp; * See the License for the specific language governing permissions and
&nbsp; * limitations under the License.
&nbsp; */
&nbsp;package io.jsonwebtoken;
&nbsp;
&nbsp;import io.jsonwebtoken.io.CompressionAlgorithm;
&nbsp;import io.jsonwebtoken.io.Decoder;
&nbsp;import io.jsonwebtoken.io.Decoders;
&nbsp;import io.jsonwebtoken.io.Encoder;
&nbsp;import io.jsonwebtoken.io.Serializer;
&nbsp;import io.jsonwebtoken.lang.Conjunctor;
&nbsp;import io.jsonwebtoken.lang.MapMutator;
&nbsp;import io.jsonwebtoken.security.AeadAlgorithm;
&nbsp;import io.jsonwebtoken.security.InvalidKeyException;
&nbsp;import io.jsonwebtoken.security.KeyAlgorithm;
&nbsp;import io.jsonwebtoken.security.Keys;
&nbsp;import io.jsonwebtoken.security.Password;
&nbsp;import io.jsonwebtoken.security.SecureDigestAlgorithm;
&nbsp;import io.jsonwebtoken.security.WeakKeyException;
&nbsp;import io.jsonwebtoken.security.X509Builder;
&nbsp;
&nbsp;import javax.crypto.SecretKey;
&nbsp;import java.io.InputStream;
&nbsp;import java.io.OutputStream;
&nbsp;import java.security.Key;
&nbsp;import java.security.PrivateKey;
&nbsp;import java.security.Provider;
&nbsp;import java.security.SecureRandom;
&nbsp;import java.security.interfaces.ECKey;
&nbsp;import java.security.interfaces.RSAKey;
&nbsp;import java.util.Date;
&nbsp;import java.util.Map;
&nbsp;
&nbsp;/**
&nbsp; * A builder for constructing Unprotected JWTs, Signed JWTs (aka &#39;JWS&#39;s) and Encrypted JWTs (aka &#39;JWE&#39;s).
&nbsp; *
&nbsp; * @since 0.1
&nbsp; */
&nbsp;public interface JwtBuilder extends ClaimsMutator&lt;JwtBuilder&gt; {
&nbsp;
&nbsp;    /**
&nbsp;     * Sets the JCA Provider to use during cryptographic signing or encryption operations, or {@code null} if the
&nbsp;     * JCA subsystem preferred provider should be used.
&nbsp;     *
&nbsp;     * @param provider the JCA Provider to use during cryptographic signing or encryption operations, or {@code null} if the
&nbsp;     *                 JCA subsystem preferred provider should be used.
&nbsp;     * @return the builder for method chaining.
&nbsp;     * @since 0.12.0
&nbsp;     */
&nbsp;    JwtBuilder provider(Provider provider);
&nbsp;
&nbsp;    /**
&nbsp;     * Sets the {@link SecureRandom} to use during cryptographic signing or encryption operations, or {@code null} if
&nbsp;     * a default {@link SecureRandom} should be used.
&nbsp;     *
&nbsp;     * @param secureRandom the {@link SecureRandom} to use during cryptographic signing or encryption operations, or
&nbsp;     *                     {@code null} if a default {@link SecureRandom} should be used.
&nbsp;     * @return the builder for method chaining.
&nbsp;     * @since 0.12.0
&nbsp;     */
&nbsp;    JwtBuilder random(SecureRandom secureRandom);
&nbsp;
&nbsp;    /**
&nbsp;     * Returns the {@code Header} to use to modify the constructed JWT&#39;s header name/value pairs as desired.
&nbsp;     * When finished, callers may return to JWT construction via the {@link BuilderHeader#and() and()} method.
&nbsp;     * For example:
&nbsp;     *
&nbsp;     * &lt;blockquote&gt;&lt;pre&gt;
&nbsp;     * String jwt = Jwts.builder()
&nbsp;     *
&nbsp;     *     &lt;b&gt;.header()
&nbsp;     *         .keyId(&quot;keyId&quot;)
&nbsp;     *         .add(&quot;aName&quot;, aValue)
&nbsp;     *         .add(myHeaderMap)
&nbsp;     *         // ... etc ...
&nbsp;     *         .{@link BuilderHeader#and() and()}&lt;/b&gt; //return back to the JwtBuilder
&nbsp;     *
&nbsp;     *     .subject(&quot;Joe&quot;) // resume JwtBuilder calls
&nbsp;     *     // ... etc ...
&nbsp;     *     .compact();&lt;/pre&gt;&lt;/blockquote&gt;
&nbsp;     *
&nbsp;     * @return the {@link BuilderHeader} to use for header construction.
&nbsp;     * @since 0.12.0
&nbsp;     */
&nbsp;    BuilderHeader header();
&nbsp;
&nbsp;    /**
&nbsp;     * Per standard Java idiom &#39;setter&#39; conventions, this method sets (and fully replaces) any existing header with the
&nbsp;     * specified name/value pairs.  This is a wrapper method for:
&nbsp;     *
&nbsp;     * &lt;blockquote&gt;&lt;pre&gt;
&nbsp;     * {@link #header()}.{@link MapMutator#empty() empty()}.{@link MapMutator#add(Map) add(map)}.{@link BuilderHeader#and() and()}&lt;/pre&gt;&lt;/blockquote&gt;
&nbsp;     *
&nbsp;     * &lt;p&gt;If you do not want to replace the existing header and only want to append to it,
&nbsp;     * call &lt;code&gt;{@link #header()}.{@link io.jsonwebtoken.lang.MapMutator#add(Map) add(map)}.{@link BuilderHeader#and() and()}&lt;/code&gt; instead.&lt;/p&gt;
&nbsp;     *
&nbsp;     * @param map the name/value pairs to set as (and potentially replace) the constructed JWT header.
&nbsp;     * @return the builder for method chaining.
&nbsp;     * @deprecated since 0.12.0 in favor of
&nbsp;     * &lt;code&gt;{@link #header()}.{@link MapMutator#empty() empty()}.{@link MapMutator#add(Map) add(map)}.{@link BuilderHeader#and() and()}&lt;/code&gt;
&nbsp;     * (to replace all header parameters) or
&nbsp;     * &lt;code&gt;{@link #header()}.{@link MapMutator#add(Map) add(map)}.{@link BuilderHeader#and() and()}&lt;/code&gt;
&nbsp;     * to only append the {@code map} entries.  This method will be removed before the 1.0 release.
&nbsp;     */
&nbsp;    @SuppressWarnings(&quot;DeprecatedIsStillUsed&quot;)
&nbsp;    @Deprecated
&nbsp;    JwtBuilder setHeader(Map&lt;String, ?&gt; map);
&nbsp;
&nbsp;    /**
&nbsp;     * Adds the specified name/value pairs to the header.  Any parameter with an empty or null value will remove the
&nbsp;     * entry from the header. This is a wrapper method for:
&nbsp;     * &lt;blockquote&gt;&lt;pre&gt;
&nbsp;     * {@link #header()}.{@link MapMutator#add(Map) add(map)}.{@link BuilderHeader#and() and()}&lt;/pre&gt;&lt;/blockquote&gt;
&nbsp;     *
&nbsp;     * @param params the header name/value pairs to append to the header.
&nbsp;     * @return the builder for method chaining.
&nbsp;     * @deprecated since 0.12.0 in favor of
&nbsp;     * &lt;code&gt;{@link #header()}.{@link MapMutator#add(Map) add(map)}.{@link BuilderHeader#and() and()}&lt;/code&gt;.
&nbsp;     * This method will be removed before the 1.0 release.
&nbsp;     */
&nbsp;    @SuppressWarnings(&quot;DeprecatedIsStillUsed&quot;)
&nbsp;    @Deprecated
&nbsp;    JwtBuilder setHeaderParams(Map&lt;String, ?&gt; params);
&nbsp;
&nbsp;    /**
&nbsp;     * Adds the specified name/value pair to the header. If the value is {@code null} or empty, the parameter will
&nbsp;     * be removed from the header entirely. This is a wrapper method for:
&nbsp;     * &lt;blockquote&gt;&lt;pre&gt;
&nbsp;     * {@link #header()}.{@link MapMutator#add(Object, Object) add(name, value)}.{@link BuilderHeader#and() and()}&lt;/pre&gt;&lt;/blockquote&gt;
&nbsp;     *
&nbsp;     * @param name  the header parameter name
&nbsp;     * @param value the header parameter value
&nbsp;     * @return the builder for method chaining.
&nbsp;     * @deprecated since 0.12.0 in favor of &lt;code&gt;
&nbsp;     * {@link #header()}.{@link MapMutator#add(Object, Object) add(name, value)}.{@link BuilderHeader#and() and()}&lt;/code&gt;.
&nbsp;     * This method will be removed before the 1.0 release.
&nbsp;     */
&nbsp;    @SuppressWarnings(&quot;DeprecatedIsStillUsed&quot;)
&nbsp;    @Deprecated
&nbsp;    JwtBuilder setHeaderParam(String name, Object value);
&nbsp;
&nbsp;    /**
&nbsp;     * Since JJWT 0.12.0, this is an alias for {@link #content(String)}. This method will be removed
&nbsp;     * before the 1.0 release.
&nbsp;     *
&nbsp;     * @param payload the string used to set UTF-8-encoded bytes as the JWT payload.
&nbsp;     * @return the builder for method chaining.
&nbsp;     * @see #content(String)
&nbsp;     * @deprecated since 0.12.0 in favor of {@link #content(String)}
&nbsp;     * because both Claims and Content are technically &#39;payloads&#39;, so this method name is misleading.  This method will
&nbsp;     * be removed before the 1.0 release.
&nbsp;     */
&nbsp;    @SuppressWarnings(&quot;DeprecatedIsStillUsed&quot;)
&nbsp;    @Deprecated
&nbsp;    JwtBuilder setPayload(String payload);
&nbsp;
&nbsp;    /**
&nbsp;     * Sets the JWT payload to be the specified string&#39;s UTF-8 bytes. This is a convenience method semantically
&nbsp;     * equivalent to calling:
&nbsp;     *
&nbsp;     * &lt;blockquote&gt;&lt;pre&gt;
&nbsp;     * {@link #content(byte[]) content}(payload.getBytes(StandardCharsets.UTF_8))&lt;/pre&gt;&lt;/blockquote&gt;
&nbsp;     *
&nbsp;     * &lt;p&gt;&lt;b&gt;Content Type Recommendation&lt;/b&gt;&lt;/p&gt;
&nbsp;     *
&nbsp;     * &lt;p&gt;Unless you are confident that the JWT recipient will &lt;em&gt;always&lt;/em&gt; know to convert the payload bytes
&nbsp;     * to a UTF-8 string without additional metadata, it is strongly recommended to use the
&nbsp;     * {@link #content(String, String)} method instead of this one.  That method ensures that a JWT recipient can
&nbsp;     * inspect the {@code cty} header to know how to handle the payload bytes without ambiguity.&lt;/p&gt;
&nbsp;     *
&nbsp;     * &lt;p&gt;&lt;b&gt;Mutually Exclusive Claims and Content&lt;/b&gt;&lt;/p&gt;
&nbsp;     *
&nbsp;     * &lt;p&gt;This method is mutually exclusive of the {@link #claim(String, Object)} and {@link #claims()}
&nbsp;     * methods. Either {@code claims} or {@code content} method variants may be used, but not both. If you want the
&nbsp;     * JWT payload to be JSON claims, use the {@link #claim(String, Object)} or {@link #claims()} methods instead.&lt;/p&gt;
&nbsp;     *
&nbsp;     * @param content the content string to use for the JWT payload
&nbsp;     * @return the builder for method chaining.
&nbsp;     * @see #content(String, String)
&nbsp;     * @see #content(byte[], String)
&nbsp;     * @see #content(InputStream, String)
&nbsp;     * @since 0.12.0
&nbsp;     */
&nbsp;    JwtBuilder content(String content);
&nbsp;
&nbsp;    /**
&nbsp;     * Sets the JWT payload to be the specified content byte array. This is a convenience method semantically
&nbsp;     * equivalent to calling:
&nbsp;     * &lt;blockquote&gt;&lt;pre&gt;
&nbsp;     * {@link #content(InputStream) content}(new ByteArrayInputStream(content))&lt;/pre&gt;&lt;/blockquote&gt;
&nbsp;     *
&nbsp;     * &lt;p&gt;&lt;b&gt;Content Type Recommendation&lt;/b&gt;&lt;/p&gt;
&nbsp;     *
&nbsp;     * &lt;p&gt;Unless you are confident that the JWT recipient will &lt;em&gt;always&lt;/em&gt; know how to use the payload bytes
&nbsp;     * without additional metadata, it is strongly recommended to also set the
&nbsp;     * {@link Header#getContentType() contentType} header. For example:&lt;/p&gt;
&nbsp;     *
&nbsp;     * &lt;blockquote&gt;&lt;pre&gt;
&nbsp;     * content(bytes).{@link #header() header()}.{@link HeaderMutator#contentType(String) contentType(cty)}.{@link BuilderHeader#and() and()}&lt;/pre&gt;&lt;/blockquote&gt;
&nbsp;     *
&nbsp;     * &lt;p&gt;This ensures a JWT recipient can inspect the {@code cty} header to know how to handle the payload bytes
&nbsp;     * without ambiguity.&lt;/p&gt;
&nbsp;     *
&nbsp;     * &lt;p&gt;&lt;b&gt;Mutually Exclusive Claims and Content&lt;/b&gt;&lt;/p&gt;
&nbsp;     *
&nbsp;     * &lt;p&gt;This method is mutually exclusive of the {@link #claim(String, Object)} and {@link #claims()}
&nbsp;     * methods. Either {@code claims} or {@code content} method variants may be used, but not both. If you want the
&nbsp;     * JWT payload to be JSON claims, use the {@link #claim(String, Object)} or {@link #claims()} methods instead.&lt;/p&gt;
&nbsp;     *
&nbsp;     * @param content the content byte array to use as the JWT payload
&nbsp;     * @return the builder for method chaining.
&nbsp;     * @see #content(byte[], String)
&nbsp;     * @since 0.12.0
&nbsp;     */
&nbsp;    JwtBuilder content(byte[] content);
&nbsp;
&nbsp;    /**
&nbsp;     * Sets the JWT payload to be the bytes in the specified content stream.
&nbsp;     *
&nbsp;     * &lt;p&gt;&lt;b&gt;Content Type Recommendation&lt;/b&gt;&lt;/p&gt;
&nbsp;     *
&nbsp;     * &lt;p&gt;Unless you are confident that the JWT recipient will &lt;em&gt;always&lt;/em&gt; know how to use the payload bytes
&nbsp;     * without additional metadata, it is strongly recommended to also set the
&nbsp;     * {@link HeaderMutator#contentType(String) contentType} header. For example:&lt;/p&gt;
&nbsp;     *
&nbsp;     * &lt;blockquote&gt;&lt;pre&gt;
&nbsp;     * content(in).{@link #header() header()}.{@link HeaderMutator#contentType(String) contentType(cty)}.{@link BuilderHeader#and() and()}&lt;/pre&gt;&lt;/blockquote&gt;
&nbsp;     *
&nbsp;     * &lt;p&gt;This ensures a JWT recipient can inspect the {@code cty} header to know how to handle the payload bytes
&nbsp;     * without ambiguity.&lt;/p&gt;
&nbsp;     *
&nbsp;     * &lt;p&gt;&lt;b&gt;Mutually Exclusive Claims and Content&lt;/b&gt;&lt;/p&gt;
&nbsp;     *
&nbsp;     * &lt;p&gt;This method is mutually exclusive of the {@link #claim(String, Object)} and {@link #claims()}
&nbsp;     * methods. Either {@code claims} or {@code content} method variants may be used, but not both. If you want the
&nbsp;     * JWT payload to be JSON claims, use the {@link #claim(String, Object)} or {@link #claims()} methods instead.&lt;/p&gt;
&nbsp;     *
&nbsp;     * @param in the input stream containing the bytes to use as the JWT payload
&nbsp;     * @return the builder for method chaining.
&nbsp;     * @see #content(byte[], String)
&nbsp;     * @since 0.12.0
&nbsp;     */
&nbsp;    JwtBuilder content(InputStream in);
&nbsp;
&nbsp;    /**
&nbsp;     * Sets the JWT payload to be the specified String&#39;s UTF-8 bytes, and also sets the
&nbsp;     * {@link HeaderMutator#contentType(String) contentType} header value to a compact {@code cty} IANA Media Type
&nbsp;     * identifier to indicate the data format of the resulting byte array. The JWT recipient can inspect the
&nbsp;     * {@code cty} value to determine how to convert the byte array to the final content type as desired.  This is a
&nbsp;     * convenience method semantically equivalent to:
&nbsp;     *
&nbsp;     * &lt;blockquote&gt;&lt;pre&gt;
&nbsp;     * {@link #content(String) content(content)}.{@link #header()}.{@link HeaderMutator#contentType(String) contentType(cty)}.{@link BuilderHeader#and() and()}&lt;/pre&gt;&lt;/blockquote&gt;
&nbsp;     *
&nbsp;     * &lt;p&gt;&lt;b&gt;Compact Media Type Identifier&lt;/b&gt;&lt;/p&gt;
&nbsp;     *
&nbsp;     * &lt;p&gt;This method will automatically remove any &lt;code&gt;&lt;b&gt;application/&lt;/b&gt;&lt;/code&gt; prefix from the
&nbsp;     * {@code cty} string if possible according to the rules defined in the last paragraph of
&nbsp;     * &lt;a href=&quot;https://www.rfc-editor.org/rfc/rfc7515.html#section-4.1.10&quot;&gt;RFC 7517, Section 4.1.10&lt;/a&gt;:&lt;/p&gt;
&nbsp;     *
&nbsp;     * &lt;blockquote&gt;&lt;pre&gt;
&nbsp;     *     To keep messages compact in common situations, it is RECOMMENDED that
&nbsp;     *     producers omit an &quot;application/&quot; prefix of a media type value in a
&nbsp;     *     &quot;cty&quot; Header Parameter when no other &#39;/&#39; appears in the media type
&nbsp;     *     value.  A recipient using the media type value MUST treat it as if
&nbsp;     *     &quot;application/&quot; were prepended to any &quot;cty&quot; value not containing a
&nbsp;     *     &#39;/&#39;.  For instance, a &quot;cty&quot; value of &quot;example&quot; SHOULD be used to
&nbsp;     *     represent the &quot;application/example&quot; media type, whereas the media
&nbsp;     *     type &quot;application/example;part=&quot;1/2&quot;&quot; cannot be shortened to
&nbsp;     *     &quot;example;part=&quot;1/2&quot;&quot;.&lt;/pre&gt;&lt;/blockquote&gt;
&nbsp;     *
&nbsp;     * &lt;p&gt;JJWT performs the reverse during JWT parsing: {@link Header#getContentType()} will automatically prepend the
&nbsp;     * {@code application/} prefix if the parsed {@code cty} value does not contain a &#39;&lt;code&gt;/&lt;/code&gt;&#39; character (as
&nbsp;     * mandated by the RFC language above). This ensures application developers can use and read standard IANA Media
&nbsp;     * Type identifiers without needing JWT-specific prefix conditional logic in application code.
&nbsp;     * &lt;/p&gt;
&nbsp;     *
&nbsp;     * &lt;p&gt;&lt;b&gt;Mutually Exclusive Claims and Content&lt;/b&gt;&lt;/p&gt;
&nbsp;     *
&nbsp;     * &lt;p&gt;This method is mutually exclusive of the {@link #claim(String, Object)} and {@link #claims()}
&nbsp;     * methods. Either {@code claims} or {@code content} method variants may be used, but not both. If you want the
&nbsp;     * JWT payload to be JSON claims, use the {@link #claim(String, Object)} or {@link #claims()} methods instead.&lt;/p&gt;
&nbsp;     *
&nbsp;     * @param content the content byte array that will be the JWT payload.  Cannot be null or empty.
&nbsp;     * @param cty     the content type (media type) identifier attributed to the byte array. Cannot be null or empty.
&nbsp;     * @return the builder for method chaining.
&nbsp;     * @throws IllegalArgumentException if either {@code content} or {@code cty} are null or empty.
&nbsp;     * @since 0.12.0
&nbsp;     */
&nbsp;    JwtBuilder content(String content, String cty) throws IllegalArgumentException;
&nbsp;
&nbsp;    /**
&nbsp;     * Sets the JWT payload to be the specified byte array, and also sets the
&nbsp;     * {@link HeaderMutator#contentType(String) contentType} header value to a compact {@code cty} IANA Media Type
&nbsp;     * identifier to indicate the data format of the byte array. The JWT recipient can inspect the
&nbsp;     * {@code cty} value to determine how to convert the byte array to the final content type as desired.  This is a
&nbsp;     * convenience method semantically equivalent to:
&nbsp;     *
&nbsp;     * &lt;blockquote&gt;&lt;pre&gt;
&nbsp;     * {@link #content(byte[]) content(content)}.{@link #header()}.{@link HeaderMutator#contentType(String) contentType(cty)}.{@link BuilderHeader#and() and()}&lt;/pre&gt;&lt;/blockquote&gt;
&nbsp;     *
&nbsp;     * &lt;p&gt;&lt;b&gt;Compact Media Type Identifier&lt;/b&gt;&lt;/p&gt;
&nbsp;     *
&nbsp;     * &lt;p&gt;This method will automatically remove any &lt;code&gt;&lt;b&gt;application/&lt;/b&gt;&lt;/code&gt; prefix from the
&nbsp;     * {@code cty} string if possible according to the rules defined in the last paragraph of
&nbsp;     * &lt;a href=&quot;https://www.rfc-editor.org/rfc/rfc7515.html#section-4.1.10&quot;&gt;RFC 7517, Section 4.1.10&lt;/a&gt;:&lt;/p&gt;
&nbsp;     * &lt;blockquote&gt;&lt;pre&gt;
&nbsp;     *     To keep messages compact in common situations, it is RECOMMENDED that
&nbsp;     *     producers omit an &quot;application/&quot; prefix of a media type value in a
&nbsp;     *     &quot;cty&quot; Header Parameter when no other &#39;/&#39; appears in the media type
&nbsp;     *     value.  A recipient using the media type value MUST treat it as if
&nbsp;     *     &quot;application/&quot; were prepended to any &quot;cty&quot; value not containing a
&nbsp;     *     &#39;/&#39;.  For instance, a &quot;cty&quot; value of &quot;example&quot; SHOULD be used to
&nbsp;     *     represent the &quot;application/example&quot; media type, whereas the media
&nbsp;     *     type &quot;application/example;part=&quot;1/2&quot;&quot; cannot be shortened to
&nbsp;     *     &quot;example;part=&quot;1/2&quot;&quot;.&lt;/pre&gt;&lt;/blockquote&gt;
&nbsp;     *
&nbsp;     * &lt;p&gt;JJWT performs the reverse during JWT parsing: {@link Header#getContentType()} will automatically prepend the
&nbsp;     * {@code application/} prefix if the parsed {@code cty} value does not contain a &#39;&lt;code&gt;/&lt;/code&gt;&#39; character (as
&nbsp;     * mandated by the RFC language above). This ensures application developers can use and read standard IANA Media
&nbsp;     * Type identifiers without needing JWT-specific prefix conditional logic in application code.
&nbsp;     * &lt;/p&gt;
&nbsp;     *
&nbsp;     * &lt;p&gt;&lt;b&gt;Mutually Exclusive Claims and Content&lt;/b&gt;&lt;/p&gt;
&nbsp;     *
&nbsp;     * &lt;p&gt;This method is mutually exclusive of the {@link #claim(String, Object)} and {@link #claims()}
&nbsp;     * methods. Either {@code claims} or {@code content} method variants may be used, but not both. If you want the
&nbsp;     * JWT payload to be JSON claims, use the {@link #claim(String, Object)} or {@link #claims()} methods instead.&lt;/p&gt;
&nbsp;     *
&nbsp;     * @param content the content byte array that will be the JWT payload.  Cannot be null or empty.
&nbsp;     * @param cty     the content type (media type) identifier attributed to the byte array. Cannot be null or empty.
&nbsp;     * @return the builder for method chaining.
&nbsp;     * @throws IllegalArgumentException if either {@code content} or {@code cty} are null or empty.
&nbsp;     * @since 0.12.0
&nbsp;     */
&nbsp;    JwtBuilder content(byte[] content, String cty) throws IllegalArgumentException;
&nbsp;
&nbsp;    /**
&nbsp;     * Sets the JWT payload to be the specified content byte stream and also sets the
&nbsp;     * {@link BuilderHeader#contentType(String) contentType} header value to a compact {@code cty} IANA Media Type
&nbsp;     * identifier to indicate the data format of the byte array. The JWT recipient can inspect the
&nbsp;     * {@code cty} value to determine how to convert the byte array to the final content type as desired.  This is a
&nbsp;     * convenience method semantically equivalent to:
&nbsp;     *
&nbsp;     * &lt;blockquote&gt;&lt;pre&gt;
&nbsp;     * {@link #content(InputStream) content(content)}.{@link #header()}.{@link HeaderMutator#contentType(String) contentType(cty)}.{@link BuilderHeader#and() and()}&lt;/pre&gt;&lt;/blockquote&gt;
&nbsp;     *
&nbsp;     * &lt;p&gt;&lt;b&gt;Compact Media Type Identifier&lt;/b&gt;&lt;/p&gt;
&nbsp;     *
&nbsp;     * &lt;p&gt;This method will automatically remove any &lt;code&gt;&lt;b&gt;application/&lt;/b&gt;&lt;/code&gt; prefix from the
&nbsp;     * {@code cty} string if possible according to the rules defined in the last paragraph of
&nbsp;     * &lt;a href=&quot;https://www.rfc-editor.org/rfc/rfc7515.html#section-4.1.10&quot;&gt;RFC 7517, Section 4.1.10&lt;/a&gt;:&lt;/p&gt;
&nbsp;     *
&nbsp;     * &lt;blockquote&gt;&lt;pre&gt;
&nbsp;     *     To keep messages compact in common situations, it is RECOMMENDED that
&nbsp;     *     producers omit an &quot;application/&quot; prefix of a media type value in a
&nbsp;     *     &quot;cty&quot; Header Parameter when no other &#39;/&#39; appears in the media type
&nbsp;     *     value.  A recipient using the media type value MUST treat it as if
&nbsp;     *     &quot;application/&quot; were prepended to any &quot;cty&quot; value not containing a
&nbsp;     *     &#39;/&#39;.  For instance, a &quot;cty&quot; value of &quot;example&quot; SHOULD be used to
&nbsp;     *     represent the &quot;application/example&quot; media type, whereas the media
&nbsp;     *     type &quot;application/example;part=&quot;1/2&quot;&quot; cannot be shortened to
&nbsp;     *     &quot;example;part=&quot;1/2&quot;&quot;.&lt;/pre&gt;&lt;/blockquote&gt;
&nbsp;     *
&nbsp;     * &lt;p&gt;JJWT performs the reverse during JWT parsing: {@link Header#getContentType()} will automatically prepend the
&nbsp;     * {@code application/} prefix if the parsed {@code cty} value does not contain a &#39;&lt;code&gt;/&lt;/code&gt;&#39; character (as
&nbsp;     * mandated by the RFC language above). This ensures application developers can use and read standard IANA Media
&nbsp;     * Type identifiers without needing JWT-specific prefix conditional logic in application code.
&nbsp;     * &lt;/p&gt;
&nbsp;     *
&nbsp;     * &lt;p&gt;&lt;b&gt;Mutually Exclusive Claims and Content&lt;/b&gt;&lt;/p&gt;
&nbsp;     *
&nbsp;     * &lt;p&gt;This method is mutually exclusive of the {@link #claim(String, Object)} and {@link #claims()}
&nbsp;     * methods. Either {@code claims} or {@code content} method variants may be used, but not both. If you want the
&nbsp;     * JWT payload to be JSON claims, use the {@link #claim(String, Object)} or {@link #claims()} methods instead.&lt;/p&gt;
&nbsp;     *
&nbsp;     * @param content the content byte array that will be the JWT payload.  Cannot be null.
&nbsp;     * @param cty     the content type (media type) identifier attributed to the byte array. Cannot be null or empty.
&nbsp;     * @return the builder for method chaining.
&nbsp;     * @throws IllegalArgumentException if either {@code content} or {@code cty} are null or empty.
&nbsp;     * @since 0.12.0
&nbsp;     */
&nbsp;    JwtBuilder content(InputStream content, String cty) throws IllegalArgumentException;
&nbsp;
&nbsp;    /**
&nbsp;     * Returns the JWT {@code Claims} payload to modify as desired. When finished, callers may
&nbsp;     * return to {@code JwtBuilder} configuration via the {@link BuilderClaims#and() and()} method.
&nbsp;     * For example:
&nbsp;     *
&nbsp;     * &lt;blockquote&gt;&lt;pre&gt;
&nbsp;     * String jwt = Jwts.builder()
&nbsp;     *
&nbsp;     *     &lt;b&gt;.claims()
&nbsp;     *         .issuer(&quot;me&quot;)
&nbsp;     *         .subject(&quot;Joe&quot;)
&nbsp;     *         .audience().add(&quot;you&quot;).and()
&nbsp;     *         .add(&quot;customClaim&quot;, customValue)
&nbsp;     *         .add(myClaimsMap)
&nbsp;     *         // ... etc ...
&nbsp;     *         .{@link BuilderClaims#and() and()}&lt;/b&gt; //return back to the JwtBuilder
&nbsp;     *
&nbsp;     *     .signWith(key) // resume JwtBuilder calls
&nbsp;     *     // ... etc ...
&nbsp;     *     .compact();&lt;/pre&gt;&lt;/blockquote&gt;
&nbsp;     *
&nbsp;     * @return the {@link BuilderClaims} to use for Claims construction.
&nbsp;     * @since 0.12.0
&nbsp;     */
&nbsp;    BuilderClaims claims();
&nbsp;
&nbsp;    /**
&nbsp;     * Replaces the JWT Claims payload with the specified name/value pairs. This is an alias for:
&nbsp;     * &lt;blockquote&gt;&lt;pre&gt;
&nbsp;     * {@link #claims()}.{@link MapMutator#empty() empty()}.{@link MapMutator#add(Map) add(claims)}.{@link BuilderClaims#and() and()}&lt;/pre&gt;&lt;/blockquote&gt;
&nbsp;     *
&nbsp;     * &lt;p&gt;The {@code content} and {@code claims} properties are mutually exclusive - only one of the two variants
&nbsp;     * may be used.&lt;/p&gt;
&nbsp;     *
&nbsp;     * @param claims the JWT Claims to be set as the JWT payload.
&nbsp;     * @return the builder for method chaining.
&nbsp;     * @see #claims()
&nbsp;     * @see #content(String)
&nbsp;     * @see #content(byte[])
&nbsp;     * @see #content(InputStream)
&nbsp;     * @deprecated since 0.12.0 in favor of using the {@link #claims()} builder.
&nbsp;     */
&nbsp;    @SuppressWarnings(&quot;DeprecatedIsStillUsed&quot;)
&nbsp;    @Deprecated
&nbsp;    JwtBuilder setClaims(Map&lt;String, ?&gt; claims);
&nbsp;
&nbsp;    /**
&nbsp;     * Adds/appends all given name/value pairs to the JSON Claims in the payload. This is an alias for:
&nbsp;     *
&nbsp;     * &lt;blockquote&gt;&lt;pre&gt;
&nbsp;     * {@link #claims()}.{@link MapMutator#add(Map) add(claims)}.{@link BuilderClaims#and() and()}&lt;/pre&gt;&lt;/blockquote&gt;
&nbsp;     *
&nbsp;     * &lt;p&gt;The content and claims properties are mutually exclusive - only one of the two may be used.&lt;/p&gt;
&nbsp;     *
&nbsp;     * @param claims the JWT Claims to be added to the JWT payload.
&nbsp;     * @return the builder for method chaining.
&nbsp;     * @since 0.8
&nbsp;     * @deprecated since 0.12.0 in favor of
&nbsp;     * &lt;code&gt;{@link #claims()}.{@link BuilderClaims#add(Map) add(Map)}.{@link BuilderClaims#and() and()}&lt;/code&gt;.
&nbsp;     * This method will be removed before the 1.0 release.
&nbsp;     */
&nbsp;    @SuppressWarnings(&quot;DeprecatedIsStillUsed&quot;)
&nbsp;    @Deprecated
&nbsp;    JwtBuilder addClaims(Map&lt;String, ?&gt; claims);
&nbsp;
&nbsp;    /**
&nbsp;     * Sets a JWT claim, overwriting any existing claim with the same name. A {@code null} or empty
&nbsp;     * value will remove the claim entirely. This is a convenience alias for:
&nbsp;     * &lt;blockquote&gt;&lt;pre&gt;
&nbsp;     * {@link #claims()}.{@link MapMutator#add(Object, Object) add(name, value)}.{@link BuilderClaims#and() and()}&lt;/pre&gt;&lt;/blockquote&gt;
&nbsp;     *
&nbsp;     * @param name  the JWT Claims property name
&nbsp;     * @param value the value to set for the specified Claims property name
&nbsp;     * @return the builder instance for method chaining.
&nbsp;     * @since 0.2
&nbsp;     */
&nbsp;    JwtBuilder claim(String name, Object value);
&nbsp;
&nbsp;    /**
&nbsp;     * Adds all given name/value pairs to the JSON Claims in the payload, overwriting any existing claims
&nbsp;     * with the same names.  If any name has a {@code null} or empty value, that claim will be removed from the
&nbsp;     * Claims.  This is a convenience alias for:
&nbsp;     * &lt;blockquote&gt;&lt;pre&gt;
&nbsp;     * {@link #claims()}.{@link MapMutator#add(Map) add(claims)}.{@link BuilderClaims#and() and()}&lt;/pre&gt;&lt;/blockquote&gt;
&nbsp;     *
&nbsp;     * &lt;p&gt;The content and claims properties are mutually exclusive - only one of the two may be used.&lt;/p&gt;
&nbsp;     *
&nbsp;     * @param claims the JWT Claims to be added to the JWT payload.
&nbsp;     * @return the builder instance for method chaining
&nbsp;     * @since 0.12.0
&nbsp;     */
&nbsp;    JwtBuilder claims(Map&lt;String, ?&gt; claims);
&nbsp;
&nbsp;    /**
&nbsp;     * Sets the JWT Claims &lt;a href=&quot;https://www.rfc-editor.org/rfc/rfc7519.html#section-4.1.1&quot;&gt;
&nbsp;     * &lt;code&gt;iss&lt;/code&gt;&lt;/a&gt; (issuer) claim.  A {@code null} value will remove the property from the Claims.
&nbsp;     * This is a convenience wrapper for:
&nbsp;     * &lt;blockquote&gt;&lt;pre&gt;
&nbsp;     * {@link #claims()}.{@link ClaimsMutator#issuer(String) issuer(iss)}.{@link BuilderClaims#and() and()}&lt;/pre&gt;&lt;/blockquote&gt;
&nbsp;     *
&nbsp;     * @param iss the JWT {@code iss} value or {@code null} to remove the property from the Claims map.
&nbsp;     * @return the builder instance for method chaining.
&nbsp;     */
&nbsp;    @Override
&nbsp;    // for better/targeted JavaDoc
&nbsp;    JwtBuilder issuer(String iss);
&nbsp;
&nbsp;    /**
&nbsp;     * Sets the JWT Claims &lt;a href=&quot;https://www.rfc-editor.org/rfc/rfc7519.html#section-4.1.2&quot;&gt;
&nbsp;     * &lt;code&gt;sub&lt;/code&gt;&lt;/a&gt; (subject) claim.  A {@code null} value will remove the property from the Claims.
&nbsp;     * This is a convenience wrapper for:
&nbsp;     * &lt;blockquote&gt;&lt;pre&gt;
&nbsp;     * {@link #claims()}.{@link ClaimsMutator#subject(String) subject(sub)}.{@link BuilderClaims#and() and()}&lt;/pre&gt;&lt;/blockquote&gt;
&nbsp;     *
&nbsp;     * @param sub the JWT {@code sub} value or {@code null} to remove the property from the Claims map.
&nbsp;     * @return the builder instance for method chaining.
&nbsp;     */
&nbsp;    @Override
&nbsp;    // for better/targeted JavaDoc
&nbsp;    JwtBuilder subject(String sub);
&nbsp;
&nbsp;    /**
&nbsp;     * Sets the JWT Claims &lt;a href=&quot;https://www.rfc-editor.org/rfc/rfc7519.html#section-4.1.4&quot;&gt;
&nbsp;     * &lt;code&gt;exp&lt;/code&gt;&lt;/a&gt; (expiration) claim. A {@code null} value will remove the property from the Claims.
&nbsp;     *
&nbsp;     * &lt;p&gt;A JWT obtained after this timestamp should not be used.&lt;/p&gt;
&nbsp;     *
&nbsp;     * &lt;p&gt;This is a convenience wrapper for:&lt;/p&gt;
&nbsp;     * &lt;blockquote&gt;&lt;pre&gt;
&nbsp;     * {@link #claims()}.{@link ClaimsMutator#expiration(Date) expiration(exp)}.{@link BuilderClaims#and() and()}&lt;/pre&gt;&lt;/blockquote&gt;
&nbsp;     *
&nbsp;     * @param exp the JWT {@code exp} value or {@code null} to remove the property from the Claims map.
&nbsp;     * @return the builder instance for method chaining.
&nbsp;     */
&nbsp;    @Override
&nbsp;    // for better/targeted JavaDoc
&nbsp;    JwtBuilder expiration(Date exp);
&nbsp;
&nbsp;    /**
&nbsp;     * Sets the JWT Claims &lt;a href=&quot;https://www.rfc-editor.org/rfc/rfc7519.html#section-4.1.5&quot;&gt;
&nbsp;     * &lt;code&gt;nbf&lt;/code&gt;&lt;/a&gt; (not before) claim. A {@code null} value will remove the property from the Claims.
&nbsp;     *
&nbsp;     * &lt;p&gt;A JWT obtained before this timestamp should not be used.&lt;/p&gt;
&nbsp;     *
&nbsp;     * &lt;p&gt;This is a convenience wrapper for:&lt;/p&gt;
&nbsp;     * &lt;blockquote&gt;&lt;pre&gt;
&nbsp;     * {@link #claims()}.{@link ClaimsMutator#notBefore(Date) notBefore(nbf)}.{@link BuilderClaims#and() and()}&lt;/pre&gt;&lt;/blockquote&gt;
&nbsp;     *
&nbsp;     * @param nbf the JWT {@code nbf} value or {@code null} to remove the property from the Claims map.
&nbsp;     * @return the builder instance for method chaining.
&nbsp;     */
&nbsp;    @Override
&nbsp;    // for better/targeted JavaDoc
&nbsp;    JwtBuilder notBefore(Date nbf);
&nbsp;
&nbsp;    /**
&nbsp;     * Sets the JWT Claims &lt;a href=&quot;https://www.rfc-editor.org/rfc/rfc7519.html#section-4.1.6&quot;&gt;
&nbsp;     * &lt;code&gt;iat&lt;/code&gt;&lt;/a&gt; (issued at) claim. A {@code null} value will remove the property from the Claims.
&nbsp;     *
&nbsp;     * &lt;p&gt;The value is the timestamp when the JWT was created.&lt;/p&gt;
&nbsp;     *
&nbsp;     * &lt;p&gt;This is a convenience wrapper for:&lt;/p&gt;
&nbsp;     * &lt;blockquote&gt;&lt;pre&gt;
&nbsp;     * {@link #claims()}.{@link ClaimsMutator#issuedAt(Date) issuedAt(iat)}.{@link BuilderClaims#and() and()}&lt;/pre&gt;&lt;/blockquote&gt;
&nbsp;     *
&nbsp;     * @param iat the JWT {@code iat} value or {@code null} to remove the property from the Claims map.
&nbsp;     * @return the builder instance for method chaining.
&nbsp;     */
&nbsp;    @Override
&nbsp;    // for better/targeted JavaDoc
&nbsp;    JwtBuilder issuedAt(Date iat);
&nbsp;
&nbsp;    /**
&nbsp;     * Sets the JWT Claims &lt;a href=&quot;https://www.rfc-editor.org/rfc/rfc7519.html#section-4.1.7&quot;&gt;
&nbsp;     * &lt;code&gt;jti&lt;/code&gt;&lt;/a&gt; (JWT ID) claim. A {@code null} value will remove the property from the Claims.
&nbsp;     *
&nbsp;     * &lt;p&gt;The value is a CaSe-SenSiTiVe unique identifier for the JWT. If specified, this value MUST be assigned in a
&nbsp;     * manner that ensures that there is a negligible probability that the same value will be accidentally
&nbsp;     * assigned to a different data object.  The ID can be used to prevent the JWT from being replayed.&lt;/p&gt;
&nbsp;     *
&nbsp;     * &lt;p&gt;This is a convenience wrapper for:&lt;/p&gt;
&nbsp;     * &lt;blockquote&gt;&lt;pre&gt;
&nbsp;     * {@link #claims()}.{@link ClaimsMutator#id(String) id(jti)}.{@link BuilderClaims#and() and()}&lt;/pre&gt;&lt;/blockquote&gt;
&nbsp;     *
&nbsp;     * @param jti the JWT {@code jti} (id) value or {@code null} to remove the property from the Claims map.
&nbsp;     * @return the builder instance for method chaining.
&nbsp;     */
&nbsp;    @Override
&nbsp;    // for better/targeted JavaDoc
&nbsp;    JwtBuilder id(String jti);
&nbsp;
&nbsp;    /**
&nbsp;     * Signs the constructed JWT with the specified key using the key&#39;s &lt;em&gt;recommended signature algorithm&lt;/em&gt;
&nbsp;     * as defined below, producing a JWS.  If the recommended signature algorithm isn&#39;t sufficient for your needs,
&nbsp;     * consider using {@link #signWith(Key, SecureDigestAlgorithm)} instead.
&nbsp;     *
&nbsp;     * &lt;p&gt;If you are looking to invoke this method with a byte array that you are confident may be used for HMAC-SHA
&nbsp;     * algorithms, consider using {@link Keys Keys}.{@link Keys#hmacShaKeyFor(byte[]) hmacShaKeyFor(bytes)} to
&nbsp;     * convert the byte array into a valid {@code Key}.&lt;/p&gt;
&nbsp;     *
&nbsp;     * &lt;p&gt;&lt;b&gt;&lt;a id=&quot;recsigalg&quot;&gt;Recommended Signature Algorithm&lt;/a&gt;&lt;/b&gt;&lt;/p&gt;
&nbsp;     *
&nbsp;     * &lt;p&gt;The recommended signature algorithm used with a given key is chosen based on the following:&lt;/p&gt;
&nbsp;     * &lt;table&gt;
&nbsp;     * &lt;caption&gt;Key Recommended Signature Algorithm&lt;/caption&gt;
&nbsp;     * &lt;thead&gt;
&nbsp;     * &lt;tr&gt;
&nbsp;     * &lt;th&gt;If the Key is a:&lt;/th&gt;
&nbsp;     * &lt;th&gt;And:&lt;/th&gt;
&nbsp;     * &lt;th&gt;With a key size of:&lt;/th&gt;
&nbsp;     * &lt;th&gt;The SignatureAlgorithm used will be:&lt;/th&gt;
&nbsp;     * &lt;/tr&gt;
&nbsp;     * &lt;/thead&gt;
&nbsp;     * &lt;tbody&gt;
&nbsp;     * &lt;tr&gt;
&nbsp;     * &lt;td&gt;{@link SecretKey}&lt;/td&gt;
&nbsp;     * &lt;td&gt;&lt;code&gt;{@link Key#getAlgorithm() getAlgorithm()}.equals(&quot;HmacSHA256&quot;)&lt;/code&gt;&lt;sup&gt;1&lt;/sup&gt;&lt;/td&gt;
&nbsp;     * &lt;td&gt;256 &amp;lt;= size &amp;lt;= 383 &lt;sup&gt;2&lt;/sup&gt;&lt;/td&gt;
&nbsp;     * &lt;td&gt;{@link Jwts.SIG#HS256 HS256}&lt;/td&gt;
&nbsp;     * &lt;/tr&gt;
&nbsp;     * &lt;tr&gt;
&nbsp;     * &lt;td&gt;{@link SecretKey}&lt;/td&gt;
&nbsp;     * &lt;td&gt;&lt;code&gt;{@link Key#getAlgorithm() getAlgorithm()}.equals(&quot;HmacSHA384&quot;)&lt;/code&gt;&lt;sup&gt;1&lt;/sup&gt;&lt;/td&gt;
&nbsp;     * &lt;td&gt;384 &amp;lt;= size &amp;lt;= 511&lt;/td&gt;
&nbsp;     * &lt;td&gt;{@link Jwts.SIG#HS384 HS384}&lt;/td&gt;
&nbsp;     * &lt;/tr&gt;
&nbsp;     * &lt;tr&gt;
&nbsp;     * &lt;td&gt;{@link SecretKey}&lt;/td&gt;
&nbsp;     * &lt;td&gt;&lt;code&gt;{@link Key#getAlgorithm() getAlgorithm()}.equals(&quot;HmacSHA512&quot;)&lt;/code&gt;&lt;sup&gt;1&lt;/sup&gt;&lt;/td&gt;
&nbsp;     * &lt;td&gt;512 &amp;lt;= size&lt;/td&gt;
&nbsp;     * &lt;td&gt;{@link Jwts.SIG#HS512 HS512}&lt;/td&gt;
&nbsp;     * &lt;/tr&gt;
&nbsp;     * &lt;tr&gt;
&nbsp;     * &lt;td&gt;{@link ECKey}&lt;/td&gt;
&nbsp;     * &lt;td&gt;&lt;code&gt;instanceof {@link PrivateKey}&lt;/code&gt;&lt;/td&gt;
&nbsp;     * &lt;td&gt;256 &amp;lt;= size &amp;lt;= 383 &lt;sup&gt;3&lt;/sup&gt;&lt;/td&gt;
&nbsp;     * &lt;td&gt;{@link Jwts.SIG#ES256 ES256}&lt;/td&gt;
&nbsp;     * &lt;/tr&gt;
&nbsp;     * &lt;tr&gt;
&nbsp;     * &lt;td&gt;{@link ECKey}&lt;/td&gt;
&nbsp;     * &lt;td&gt;&lt;code&gt;instanceof {@link PrivateKey}&lt;/code&gt;&lt;/td&gt;
&nbsp;     * &lt;td&gt;384 &amp;lt;= size &amp;lt;= 520 &lt;sup&gt;4&lt;/sup&gt;&lt;/td&gt;
&nbsp;     * &lt;td&gt;{@link Jwts.SIG#ES384 ES384}&lt;/td&gt;
&nbsp;     * &lt;/tr&gt;
&nbsp;     * &lt;tr&gt;
&nbsp;     * &lt;td&gt;{@link ECKey}&lt;/td&gt;
&nbsp;     * &lt;td&gt;&lt;code&gt;instanceof {@link PrivateKey}&lt;/code&gt;&lt;/td&gt;
&nbsp;     * &lt;td&gt;&lt;b&gt;521&lt;/b&gt; &amp;lt;= size &lt;sup&gt;4&lt;/sup&gt;&lt;/td&gt;
&nbsp;     * &lt;td&gt;{@link Jwts.SIG#ES512 ES512}&lt;/td&gt;
&nbsp;     * &lt;/tr&gt;
&nbsp;     * &lt;tr&gt;
&nbsp;     * &lt;td&gt;{@link RSAKey}&lt;/td&gt;
&nbsp;     * &lt;td&gt;&lt;code&gt;instanceof {@link PrivateKey}&lt;/code&gt;&lt;/td&gt;
&nbsp;     * &lt;td&gt;2048 &amp;lt;= size &amp;lt;= 3071 &lt;sup&gt;5,6&lt;/sup&gt;&lt;/td&gt;
&nbsp;     * &lt;td&gt;{@link Jwts.SIG#RS256 RS256}&lt;/td&gt;
&nbsp;     * &lt;/tr&gt;
&nbsp;     * &lt;tr&gt;
&nbsp;     * &lt;td&gt;{@link RSAKey}&lt;/td&gt;
&nbsp;     * &lt;td&gt;&lt;code&gt;instanceof {@link PrivateKey}&lt;/code&gt;&lt;/td&gt;
&nbsp;     * &lt;td&gt;3072 &amp;lt;= size &amp;lt;= 4095 &lt;sup&gt;6&lt;/sup&gt;&lt;/td&gt;
&nbsp;     * &lt;td&gt;{@link Jwts.SIG#RS384 RS384}&lt;/td&gt;
&nbsp;     * &lt;/tr&gt;
&nbsp;     * &lt;tr&gt;
&nbsp;     * &lt;td&gt;{@link RSAKey}&lt;/td&gt;
&nbsp;     * &lt;td&gt;&lt;code&gt;instanceof {@link PrivateKey}&lt;/code&gt;&lt;/td&gt;
&nbsp;     * &lt;td&gt;4096 &amp;lt;= size &lt;sup&gt;5&lt;/sup&gt;&lt;/td&gt;
&nbsp;     * &lt;td&gt;{@link Jwts.SIG#RS512 RS512}&lt;/td&gt;
&nbsp;     * &lt;/tr&gt;
&nbsp;     * &lt;tr&gt;
&nbsp;     *     &lt;td&gt;&lt;a href=&quot;https://docs.oracle.com/en/java/javase/15/docs/api/java.base/java/security/interfaces/EdECKey.html&quot;&gt;EdECKey&lt;/a&gt;&lt;sup&gt;7&lt;/sup&gt;&lt;/td&gt;
&nbsp;     *     &lt;td&gt;&lt;code&gt;instanceof {@link PrivateKey}&lt;/code&gt;&lt;/td&gt;
&nbsp;     *     &lt;td&gt;256 || 456&lt;/td&gt;
&nbsp;     *     &lt;td&gt;{@link Jwts.SIG#EdDSA EdDSA}&lt;/td&gt;
&nbsp;     * &lt;/tr&gt;
&nbsp;     * &lt;/tbody&gt;
&nbsp;     * &lt;/table&gt;
&nbsp;     * &lt;p&gt;Notes:&lt;/p&gt;
&nbsp;     * &lt;ol&gt;
&nbsp;     * &lt;li&gt;{@code SecretKey} instances must have an {@link Key#getAlgorithm() algorithm} name equal
&nbsp;     * to {@code HmacSHA256}, {@code HmacSHA384} or {@code HmacSHA512}.  If not, the key bytes might not be
&nbsp;     * suitable for HMAC signatures will be rejected with a {@link InvalidKeyException}. &lt;/li&gt;
&nbsp;     * &lt;li&gt;The JWT &lt;a href=&quot;https://tools.ietf.org/html/rfc7518#section-3.2&quot;&gt;JWA Specification (RFC 7518,
&nbsp;     * Section 3.2)&lt;/a&gt; mandates that HMAC-SHA-* signing keys &lt;em&gt;MUST&lt;/em&gt; be 256 bits or greater.
&nbsp;     * {@code SecretKey}s with key lengths less than 256 bits will be rejected with an
&nbsp;     * {@link WeakKeyException}.&lt;/li&gt;
&nbsp;     * &lt;li&gt;The JWT &lt;a href=&quot;https://tools.ietf.org/html/rfc7518#section-3.4&quot;&gt;JWA Specification (RFC 7518,
&nbsp;     * Section 3.4)&lt;/a&gt; mandates that ECDSA signing key lengths &lt;em&gt;MUST&lt;/em&gt; be 256 bits or greater.
&nbsp;     * {@code ECKey}s with key lengths less than 256 bits will be rejected with a
&nbsp;     * {@link WeakKeyException}.&lt;/li&gt;
&nbsp;     * &lt;li&gt;The ECDSA {@code P-521} curve does indeed use keys of &lt;b&gt;521&lt;/b&gt; bits, not 512 as might be expected.  ECDSA
&nbsp;     * keys of 384 &amp;lt; size &amp;lt;= 520 are suitable for ES384, while ES512 requires keys &amp;gt;= 521 bits.  The &#39;512&#39; part of the
&nbsp;     * ES512 name reflects the usage of the SHA-512 algorithm, not the ECDSA key length.  ES512 with ECDSA keys less
&nbsp;     * than 521 bits will be rejected with a {@link WeakKeyException}.&lt;/li&gt;
&nbsp;     * &lt;li&gt;The JWT &lt;a href=&quot;https://tools.ietf.org/html/rfc7518#section-3.3&quot;&gt;JWA Specification (RFC 7518,
&nbsp;     * Section 3.3)&lt;/a&gt; mandates that RSA signing key lengths &lt;em&gt;MUST&lt;/em&gt; be 2048 bits or greater.
&nbsp;     * {@code RSAKey}s with key lengths less than 2048 bits will be rejected with a
&nbsp;     * {@link WeakKeyException}.&lt;/li&gt;
&nbsp;     * &lt;li&gt;Technically any RSA key of length &amp;gt;= 2048 bits may be used with the
&nbsp;     * {@link Jwts.SIG#RS256 RS256}, {@link Jwts.SIG#RS384 RS384}, and
&nbsp;     * {@link Jwts.SIG#RS512 RS512} algorithms, so we assume an RSA signature algorithm based on the key
&nbsp;     * length to parallel similar decisions in the JWT specification for HMAC and ECDSA signature algorithms.
&nbsp;     * This is not required - just a convenience.&lt;/li&gt;
&nbsp;     * &lt;li&gt;&lt;a href=&quot;https://docs.oracle.com/en/java/javase/15/docs/api/java.base/java/security/interfaces/EdECKey.html&quot;&gt;EdECKey&lt;/a&gt;s
&nbsp;     * require JDK &amp;gt;= 15 or BouncyCastle in the runtime classpath.&lt;/li&gt;
&nbsp;     * &lt;/ol&gt;
&nbsp;     *
&nbsp;     * &lt;p&gt;This implementation does not use the {@link Jwts.SIG#PS256 PS256},
&nbsp;     * {@link Jwts.SIG#PS384 PS384}, or {@link Jwts.SIG#PS512 PS512} RSA variants for any
&nbsp;     * specified {@link RSAKey} because the the {@link Jwts.SIG#RS256 RS256},
&nbsp;     * {@link Jwts.SIG#RS384 RS384}, and {@link Jwts.SIG#RS512 RS512} algorithms are
&nbsp;     * available in the JDK by default while the {@code PS}* variants require either JDK 11 or an additional JCA
&nbsp;     * Provider (like BouncyCastle).  If you wish to use a {@code PS}* variant with your key, use the
&nbsp;     * {@link #signWith(Key, SecureDigestAlgorithm)} method instead.&lt;/p&gt;
&nbsp;     *
&nbsp;     * &lt;p&gt;Finally, this method will throw an {@link InvalidKeyException} for any key that does not match the
&nbsp;     * heuristics and requirements documented above, since that inevitably means the Key is either insufficient,
&nbsp;     * unsupported, or explicitly disallowed by the JWT specification.&lt;/p&gt;
&nbsp;     *
&nbsp;     * @param key the key to use for signing
&nbsp;     * @return the builder instance for method chaining.
&nbsp;     * @throws InvalidKeyException if the Key is insufficient, unsupported, or explicitly disallowed by the JWT
&nbsp;     *                             specification as described above in &lt;em&gt;recommended signature algorithms&lt;/em&gt;.
&nbsp;     * @see Jwts.SIG
&nbsp;     * @see #signWith(Key, SecureDigestAlgorithm)
&nbsp;     * @since 0.10.0
&nbsp;     */
&nbsp;    JwtBuilder signWith(Key key) throws InvalidKeyException;
&nbsp;
&nbsp;    /**
&nbsp;     * Signs the constructed JWT using the specified algorithm with the specified key, producing a JWS.
&nbsp;     *
&nbsp;     * &lt;p&gt;&lt;b&gt;Deprecation Notice: Deprecated as of 0.10.0&lt;/b&gt;&lt;/p&gt;
&nbsp;     *
&nbsp;     * &lt;p&gt;Use {@link Keys Keys}.{@link Keys#hmacShaKeyFor(byte[]) hmacShaKeyFor(bytes)} to
&nbsp;     * obtain the {@code Key} and then invoke {@link #signWith(Key)} or
&nbsp;     * {@link #signWith(Key, SecureDigestAlgorithm)}.&lt;/p&gt;
&nbsp;     *
&nbsp;     * &lt;p&gt;This method will be removed in the 1.0 release.&lt;/p&gt;
&nbsp;     *
&nbsp;     * @param alg       the JWS algorithm to use to digitally sign the JWT, thereby producing a JWS.
&nbsp;     * @param secretKey the algorithm-specific signing key to use to digitally sign the JWT.
&nbsp;     * @return the builder for method chaining.
&nbsp;     * @throws InvalidKeyException if the Key is insufficient for the specified algorithm or explicitly disallowed by
&nbsp;     *                             the JWT specification.
&nbsp;     * @deprecated as of 0.10.0: use {@link Keys Keys}.{@link Keys#hmacShaKeyFor(byte[]) hmacShaKeyFor(bytes)} to
&nbsp;     * obtain the {@code Key} and then invoke {@link #signWith(Key)} or
&nbsp;     * {@link #signWith(Key, SecureDigestAlgorithm)}.
&nbsp;     * This method will be removed in the 1.0 release.
&nbsp;     */
&nbsp;    @Deprecated
&nbsp;    JwtBuilder signWith(SignatureAlgorithm alg, byte[] secretKey) throws InvalidKeyException;
&nbsp;
&nbsp;    /**
&nbsp;     * Signs the constructed JWT using the specified algorithm with the specified key, producing a JWS.
&nbsp;     *
&nbsp;     * &lt;p&gt;This is a convenience method: the string argument is first BASE64-decoded to a byte array and this resulting
&nbsp;     * byte array is used to invoke {@link #signWith(SignatureAlgorithm, byte[])}.&lt;/p&gt;
&nbsp;     *
&nbsp;     * &lt;p&gt;&lt;b&gt;Deprecation Notice: Deprecated as of 0.10.0, will be removed in the 1.0 release.&lt;/b&gt;&lt;/p&gt;
&nbsp;     *
&nbsp;     * &lt;p&gt;This method has been deprecated because the {@code key} argument for this method can be confusing: keys for
&nbsp;     * cryptographic operations are always binary (byte arrays), and many people were confused as to how bytes were
&nbsp;     * obtained from the String argument.&lt;/p&gt;
&nbsp;     *
&nbsp;     * &lt;p&gt;This method always expected a String argument that was effectively the same as the result of the following
&nbsp;     * (pseudocode):&lt;/p&gt;
&nbsp;     *
&nbsp;     * &lt;p&gt;{@code String base64EncodedSecretKey = base64Encode(secretKeyBytes);}&lt;/p&gt;
&nbsp;     *
&nbsp;     * &lt;p&gt;However, a non-trivial number of JJWT users were confused by the method signature and attempted to
&nbsp;     * use raw password strings as the key argument - for example {@code with(HS256, myPassword)} - which is
&nbsp;     * almost always incorrect for cryptographic hashes and can produce erroneous or insecure results.&lt;/p&gt;
&nbsp;     *
&nbsp;     * &lt;p&gt;See this
&nbsp;     * &lt;a href=&quot;https://stackoverflow.com/questions/40252903/static-secret-as-byte-key-or-string/40274325#40274325&quot;&gt;
&nbsp;     * StackOverflow answer&lt;/a&gt; explaining why raw (non-base64-encoded) strings are almost always incorrect for
&nbsp;     * signature operations.&lt;/p&gt;
&nbsp;     *
&nbsp;     * &lt;p&gt;To perform the correct logic with base64EncodedSecretKey strings with JJWT &amp;gt;= 0.10.0, you may do this:&lt;/p&gt;
&nbsp;     * &lt;pre&gt;&lt;code&gt;
&nbsp;     * byte[] keyBytes = {@link Decoders Decoders}.{@link Decoders#BASE64 BASE64}.{@link Decoder#decode(Object) decode(base64EncodedSecretKey)};
&nbsp;     * Key key = {@link Keys Keys}.{@link Keys#hmacShaKeyFor(byte[]) hmacShaKeyFor(keyBytes)};
&nbsp;     * jwtBuilder.with(key); //or {@link #signWith(Key, SignatureAlgorithm)}
&nbsp;     * &lt;/code&gt;&lt;/pre&gt;
&nbsp;     *
&nbsp;     * &lt;p&gt;This method will be removed in the 1.0 release.&lt;/p&gt;
&nbsp;     *
&nbsp;     * @param alg                    the JWS algorithm to use to digitally sign the JWT, thereby producing a JWS.
&nbsp;     * @param base64EncodedSecretKey the BASE64-encoded algorithm-specific signing key to use to digitally sign the
&nbsp;     *                               JWT.
&nbsp;     * @return the builder for method chaining.
&nbsp;     * @throws InvalidKeyException if the Key is insufficient or explicitly disallowed by the JWT specification as
&nbsp;     *                             described by {@link SignatureAlgorithm#forSigningKey(Key)}.
&nbsp;     * @deprecated as of 0.10.0: use {@link #signWith(Key)} or {@link #signWith(Key, SignatureAlgorithm)} instead.  This
&nbsp;     * method will be removed in the 1.0 release.
&nbsp;     */
&nbsp;    @Deprecated
&nbsp;    JwtBuilder signWith(SignatureAlgorithm alg, String base64EncodedSecretKey) throws InvalidKeyException;
&nbsp;
&nbsp;    /**
&nbsp;     * Signs the constructed JWT using the specified algorithm with the specified key, producing a JWS.
&nbsp;     *
&nbsp;     * &lt;p&gt;It is typically recommended to call the {@link #signWith(Key)} instead for simplicity.
&nbsp;     * However, this method can be useful if the recommended algorithm heuristics do not meet your needs or if
&nbsp;     * you want explicit control over the signature algorithm used with the specified key.&lt;/p&gt;
&nbsp;     *
&nbsp;     * @param alg the JWS algorithm to use to digitally sign the JWT, thereby producing a JWS.
&nbsp;     * @param key the algorithm-specific signing key to use to digitally sign the JWT.
&nbsp;     * @return the builder for method chaining.
&nbsp;     * @throws InvalidKeyException if the Key is insufficient or explicitly disallowed by the JWT specification for
&nbsp;     *                             the specified algorithm.
&nbsp;     * @see #signWith(Key)
&nbsp;     * @deprecated since 0.10.0. Use {@link #signWith(Key, SecureDigestAlgorithm)} instead.
&nbsp;     * This method will be removed before the 1.0 release.
&nbsp;     */
&nbsp;    @Deprecated
&nbsp;    JwtBuilder signWith(SignatureAlgorithm alg, Key key) throws InvalidKeyException;
&nbsp;
&nbsp;    /**
&nbsp;     * &lt;p&gt;&lt;b&gt;Deprecation Notice&lt;/b&gt;&lt;/p&gt;
&nbsp;     *
&nbsp;     * &lt;p&gt;&lt;b&gt;This has been deprecated since 0.12.0.  Use
&nbsp;     * {@link #signWith(Key, SecureDigestAlgorithm)} instead&lt;/b&gt;.  Standard JWA algorithms
&nbsp;     * are represented as instances of this new interface in the {@link Jwts.SIG}
&nbsp;     * algorithm registry.&lt;/p&gt;
&nbsp;     *
&nbsp;     * &lt;p&gt;Signs the constructed JWT with the specified key using the specified algorithm, producing a JWS.&lt;/p&gt;
&nbsp;     *
&nbsp;     * &lt;p&gt;It is typically recommended to call the {@link #signWith(Key)} instead for simplicity.
&nbsp;     * However, this method can be useful if the recommended algorithm heuristics do not meet your needs or if
&nbsp;     * you want explicit control over the signature algorithm used with the specified key.&lt;/p&gt;
&nbsp;     *
&nbsp;     * @param key the signing key to use to digitally sign the JWT.
&nbsp;     * @param alg the JWS algorithm to use with the key to digitally sign the JWT, thereby producing a JWS.
&nbsp;     * @return the builder for method chaining.
&nbsp;     * @throws InvalidKeyException if the Key is insufficient or explicitly disallowed by the JWT specification for
&nbsp;     *                             the specified algorithm.
&nbsp;     * @see #signWith(Key)
&nbsp;     * @since 0.10.0
&nbsp;     * @deprecated since 0.12.0 to use the more flexible {@link #signWith(Key, SecureDigestAlgorithm)}.
&nbsp;     */
&nbsp;    @Deprecated
&nbsp;    JwtBuilder signWith(Key key, SignatureAlgorithm alg) throws InvalidKeyException;
&nbsp;
&nbsp;    /**
&nbsp;     * Signs the constructed JWT with the specified key using the specified algorithm, producing a JWS.
&nbsp;     *
&nbsp;     * &lt;p&gt;The {@link Jwts.SIG} registry makes available all standard signature
&nbsp;     * algorithms defined in the JWA specification.&lt;/p&gt;
&nbsp;     *
&nbsp;     * &lt;p&gt;It is typically recommended to call the {@link #signWith(Key)} instead for simplicity.
&nbsp;     * However, this method can be useful if the recommended algorithm heuristics do not meet your needs or if
&nbsp;     * you want explicit control over the signature algorithm used with the specified key.&lt;/p&gt;
&nbsp;     *
&nbsp;     * @param key the signing key to use to digitally sign the JWT.
&nbsp;     * @param &lt;K&gt; The type of key accepted by the {@code SignatureAlgorithm}.
&nbsp;     * @param alg the JWS algorithm to use with the key to digitally sign the JWT, thereby producing a JWS.
&nbsp;     * @return the builder for method chaining.
&nbsp;     * @throws InvalidKeyException if the Key is insufficient or explicitly disallowed by the JWT specification for
&nbsp;     *                             the specified algorithm.
&nbsp;     * @see #signWith(Key)
&nbsp;     * @see Jwts.SIG
&nbsp;     * @since 0.12.0
&nbsp;     */
&nbsp;    &lt;K extends Key&gt; JwtBuilder signWith(K key, SecureDigestAlgorithm&lt;? super K, ?&gt; alg) throws InvalidKeyException;
&nbsp;
&nbsp;    /**
&nbsp;     * Encrypts the constructed JWT with the specified symmetric {@code key} using the provided {@code enc}ryption
&nbsp;     * algorithm, producing a JWE.  Because it is a symmetric key, the JWE recipient
&nbsp;     * must also have access to the same key to decrypt.
&nbsp;     *
&nbsp;     * &lt;p&gt;This method is a convenience method that delegates to
&nbsp;     * {@link #encryptWith(Key, KeyAlgorithm, AeadAlgorithm) encryptWith(Key, KeyAlgorithm, AeadAlgorithm)}
&nbsp;     * based on the {@code key} argument:&lt;/p&gt;
&nbsp;     * &lt;ul&gt;
&nbsp;     *     &lt;li&gt;If the provided {@code key} is a {@link Password Password} instance,
&nbsp;     *     the {@code KeyAlgorithm} used will be one of the three JWA-standard password-based key algorithms
&nbsp;     *      ({@link Jwts.KEY#PBES2_HS256_A128KW PBES2_HS256_A128KW},
&nbsp;     *      {@link Jwts.KEY#PBES2_HS384_A192KW PBES2_HS384_A192KW}, or
&nbsp;     *      {@link Jwts.KEY#PBES2_HS512_A256KW PBES2_HS512_A256KW}) as determined by the {@code enc} algorithm&#39;s
&nbsp;     *      {@link AeadAlgorithm#getKeyBitLength() key length} requirement.&lt;/li&gt;
&nbsp;     *     &lt;li&gt;If the {@code key} is otherwise a standard {@code SecretKey}, the {@code KeyAlgorithm} will be
&nbsp;     *     {@link Jwts.KEY#DIRECT DIRECT}, indicating that {@code key} should be used directly with the
&nbsp;     *     {@code enc} algorithm.  In this case, the {@code key} argument &lt;em&gt;MUST&lt;/em&gt; be of sufficient strength to
&nbsp;     *     use with the specified {@code enc} algorithm, otherwise an exception will be thrown during encryption. If
&nbsp;     *     desired, secure-random keys suitable for an {@link AeadAlgorithm} may be generated using the algorithm&#39;s
&nbsp;     *     {@link AeadAlgorithm#key() key()} builder.&lt;/li&gt;
&nbsp;     * &lt;/ul&gt;
&nbsp;     *
&nbsp;     * @param key the symmetric encryption key to use with the {@code enc} algorithm.
&nbsp;     * @param enc the {@link AeadAlgorithm} algorithm used to encrypt the JWE, usually one of the JWA-standard
&nbsp;     *            algorithms accessible via {@link Jwts.ENC}.
&nbsp;     * @return the JWE builder for method chaining.
&nbsp;     * @see Jwts.ENC
&nbsp;     */
&nbsp;    JwtBuilder encryptWith(SecretKey key, AeadAlgorithm enc);
&nbsp;
&nbsp;    /**
&nbsp;     * Encrypts the constructed JWT using the specified {@code enc} algorithm with the symmetric key produced by the
&nbsp;     * {@code keyAlg} when invoked with the given {@code key}, producing a JWE.
&nbsp;     *
&nbsp;     * &lt;p&gt;This behavior can be illustrated by the following pseudocode, a rough example of what happens during
&nbsp;     * {@link #compact() compact}ion:&lt;/p&gt;
&nbsp;     * &lt;blockquote&gt;&lt;pre&gt;
&nbsp;     *     SecretKey encryptionKey = keyAlg.getEncryptionKey(key);           // (1)
&nbsp;     *     byte[] jweCiphertext = enc.encrypt(payloadBytes, encryptionKey);  // (2)&lt;/pre&gt;&lt;/blockquote&gt;
&nbsp;     * &lt;ol&gt;
&nbsp;     *     &lt;li&gt;The {@code keyAlg} argument is first invoked with the provided {@code key} argument, resulting in a
&nbsp;     *         {@link SecretKey}.&lt;/li&gt;
&nbsp;     *     &lt;li&gt;This {@code SecretKey} result is used to call the provided {@code enc} encryption algorithm argument,
&nbsp;     *         resulting in the final JWE ciphertext.&lt;/li&gt;
&nbsp;     * &lt;/ol&gt;
&nbsp;     *
&nbsp;     * &lt;p&gt;Most application developers will reference one of the JWA
&nbsp;     * {@link Jwts.KEY standard key algorithms} and {@link Jwts.ENC standard encryption algorithms}
&nbsp;     * when invoking this method, but custom implementations are also supported.&lt;/p&gt;
&nbsp;     *
&nbsp;     * @param &lt;K&gt;    the type of key that must be used with the specified {@code keyAlg} instance.
&nbsp;     * @param key    the key used to invoke the provided {@code keyAlg} instance.
&nbsp;     * @param keyAlg the key management algorithm that will produce the symmetric {@code SecretKey} to use with the
&nbsp;     *               {@code enc} algorithm
&nbsp;     * @param enc    the {@link AeadAlgorithm} algorithm used to encrypt the JWE
&nbsp;     * @return the JWE builder for method chaining.
&nbsp;     * @see Jwts.ENC
&nbsp;     * @see Jwts.KEY
&nbsp;     */
&nbsp;    &lt;K extends Key&gt; JwtBuilder encryptWith(K key, KeyAlgorithm&lt;? super K, ?&gt; keyAlg, AeadAlgorithm enc);
&nbsp;
&nbsp;    /**
&nbsp;     * Compresses the JWT payload using the specified {@link CompressionAlgorithm}.
&nbsp;     *
&nbsp;     * &lt;p&gt;If your compact JWTs are large, and you want to reduce their total size during network transmission, this
&nbsp;     * can be useful.  For example, when embedding JWTs  in URLs, some browsers may not support URLs longer than a
&nbsp;     * certain length.  Using compression can help ensure the compact JWT fits within that length.  However, NOTE:&lt;/p&gt;
&nbsp;     *
&nbsp;     * &lt;p&gt;&lt;b&gt;Compatibility Warning&lt;/b&gt;&lt;/p&gt;
&nbsp;     *
&nbsp;     * &lt;p&gt;The JWT family of specifications defines compression only for JWE (JSON Web Encryption)
&nbsp;     * tokens.  Even so, JJWT will also support compression for JWS tokens as well if you choose to use it.
&nbsp;     * However, be aware that &lt;b&gt;if you use compression when creating a JWS token, other libraries may not be able to
&nbsp;     * parse that JWS token&lt;/b&gt;.  When using compression for JWS tokens, be sure that all parties accessing the
&nbsp;     * JWS token support compression for JWS.&lt;/p&gt;
&nbsp;     *
&nbsp;     * &lt;p&gt;Compression when creating JWE tokens however should be universally accepted for any
&nbsp;     * library that supports JWE.&lt;/p&gt;
&nbsp;     *
&nbsp;     * @param alg implementation of the {@link CompressionAlgorithm} to be used.
&nbsp;     * @return the builder for method chaining.
&nbsp;     * @see Jwts.ZIP
&nbsp;     * @since 0.12.0
&nbsp;     */
&nbsp;    JwtBuilder compressWith(CompressionAlgorithm alg);
&nbsp;
&nbsp;    /**
&nbsp;     * Perform Base64Url encoding during {@link #compact() compaction} with the specified Encoder.
&nbsp;     *
&nbsp;     * &lt;p&gt;JJWT uses a spec-compliant encoder that works on all supported JDK versions, but you may call this method
&nbsp;     * to specify a different encoder if you desire.&lt;/p&gt;
&nbsp;     *
&nbsp;     * @param base64UrlEncoder the encoder to use when Base64Url-encoding
&nbsp;     * @return the builder for method chaining.
&nbsp;     * @see #b64Url(Encoder)
&nbsp;     * @since 0.10.0
&nbsp;     * @deprecated since 0.12.0 in favor of {@link #b64Url(Encoder)}.
&nbsp;     */
&nbsp;    @SuppressWarnings(&quot;DeprecatedIsStillUsed&quot;)
&nbsp;    @Deprecated
&nbsp;    JwtBuilder base64UrlEncodeWith(Encoder&lt;byte[], String&gt; base64UrlEncoder);
&nbsp;
&nbsp;    /**
&nbsp;     * Perform Base64Url encoding during {@link #compact() compaction} with the specified {@code OutputStream} Encoder.
&nbsp;     * The Encoder&#39;s {@link Encoder#encode(Object) encode} method will be given a target {@code OutputStream} to
&nbsp;     * wrap, and the resulting (wrapping) {@code OutputStream} will be used for writing, ensuring automatic
&nbsp;     * Base64URL-encoding during write operations.
&nbsp;     *
&nbsp;     * &lt;p&gt;JJWT uses a spec-compliant encoder that works on all supported JDK versions, but you may call this method
&nbsp;     * to specify a different stream encoder if desired.&lt;/p&gt;
&nbsp;     *
&nbsp;     * @param encoder the encoder to use when Base64Url-encoding
&nbsp;     * @return the builder for method chaining.
&nbsp;     * @since 0.12.0
&nbsp;     */
&nbsp;    JwtBuilder b64Url(Encoder&lt;OutputStream, OutputStream&gt; encoder);
&nbsp;
&nbsp;    /**
&nbsp;     * Enables &lt;a href=&quot;https://datatracker.ietf.org/doc/html/rfc7797&quot;&gt;RFC 7797: JSON Web Signature (JWS)
&nbsp;     * Unencoded Payload Option&lt;/a&gt; if {@code false}, or standard JWT/JWS/JWE payload encoding otherwise.  The default
&nbsp;     * value is {@code true} per standard RFC behavior rules.
&nbsp;     *
&nbsp;     * &lt;p&gt;This value may only be {@code false} for JWSs (signed JWTs).  It may not be used for standard
&nbsp;     * (unprotected) JWTs or encrypted JWTs (JWEs).  The builder will throw an exception during {@link #compact()} if
&nbsp;     * {@code false} and a JWS is not being created.&lt;/p&gt;
&nbsp;     *
&nbsp;     * @param b64 whether to Base64URL-encode the JWS payload
&nbsp;     * @return the builder for method chaining.
&nbsp;     */
&nbsp;    JwtBuilder encodePayload(boolean b64);
&nbsp;
&nbsp;    /**
&nbsp;     * Performs Map-to-JSON serialization with the specified Serializer.  This is used by the builder to convert
&nbsp;     * JWT/JWS/JWE headers and claims Maps to JSON strings as required by the JWT specification.
&nbsp;     *
&nbsp;     * &lt;p&gt;If this method is not called, JJWT will use whatever serializer it can find at runtime, checking for the
&nbsp;     * presence of well-known implementations such Jackson, Gson, and org.json.  If one of these is not found
&nbsp;     * in the runtime classpath, an exception will be thrown when the {@link #compact()} method is invoked.&lt;/p&gt;
&nbsp;     *
&nbsp;     * @param serializer the serializer to use when converting Map objects to JSON strings.
&nbsp;     * @return the builder for method chaining.
&nbsp;     * @since 0.10.0
&nbsp;     * @deprecated since 0.12.0 in favor of {@link #json(Serializer)}
&nbsp;     */
&nbsp;    @SuppressWarnings(&quot;DeprecatedIsStillUsed&quot;)
&nbsp;    @Deprecated
&nbsp;    JwtBuilder serializeToJsonWith(Serializer&lt;Map&lt;String, ?&gt;&gt; serializer);
&nbsp;
&nbsp;    /**
&nbsp;     * Perform Map-to-JSON serialization with the specified Serializer.  This is used by the builder to convert
&nbsp;     * JWT/JWS/JWE headers and Claims Maps to JSON strings as required by the JWT specification.
&nbsp;     *
&nbsp;     * &lt;p&gt;If this method is not called, JJWT will use whatever Serializer it can find at runtime, checking for the
&nbsp;     * presence of well-known implementations such Jackson, Gson, and org.json.  If one of these is not found
&nbsp;     * in the runtime classpath, an exception will be thrown when the {@link #compact()} method is invoked.&lt;/p&gt;
&nbsp;     *
&nbsp;     * @param serializer the Serializer to use when converting Map objects to JSON strings.
&nbsp;     * @return the builder for method chaining.
&nbsp;     * @since 0.12.0
&nbsp;     */
&nbsp;    JwtBuilder json(Serializer&lt;Map&lt;String, ?&gt;&gt; serializer);
&nbsp;
&nbsp;    /**
&nbsp;     * Actually builds the JWT and serializes it to a compact, URL-safe string according to the
&nbsp;     * &lt;a href=&quot;https://www.rfc-editor.org/rfc/rfc7519.html#section-7.1&quot;&gt;JWT Compact Serialization&lt;/a&gt;
&nbsp;     * rules.
&nbsp;     *
&nbsp;     * @return A compact URL-safe JWT string.
&nbsp;     */
&nbsp;    String compact();
&nbsp;
&nbsp;    /**
&nbsp;     * Claims for use with a {@link JwtBuilder} that supports method chaining for standard JWT Claims parameters.
&nbsp;     * Once claims are configured, the associated {@link JwtBuilder} may be obtained with the {@link #and() and()}
&nbsp;     * method for continued configuration.
&nbsp;     *
&nbsp;     * @since 0.12.0
&nbsp;     */
&nbsp;    interface BuilderClaims extends MapMutator&lt;String, Object, BuilderClaims&gt;, ClaimsMutator&lt;BuilderClaims&gt;,
&nbsp;            Conjunctor&lt;JwtBuilder&gt; {
&nbsp;    }
&nbsp;
&nbsp;    /**
&nbsp;     * Header for use with a {@link JwtBuilder} that supports method chaining for
&nbsp;     * standard JWT, JWS and JWE header parameters.  Once header parameters are configured, the associated
&nbsp;     * {@link JwtBuilder} may be obtained with the {@link #and() and()} method for continued configuration.
&nbsp;     *
&nbsp;     * @since 0.12.0
&nbsp;     */
&nbsp;    interface BuilderHeader extends JweHeaderMutator&lt;BuilderHeader&gt;, X509Builder&lt;BuilderHeader&gt;,
&nbsp;            Conjunctor&lt;JwtBuilder&gt; {
&nbsp;    }
&nbsp;}
</code>
</pre>
</div>

<script type="text/javascript">
(function() {
    var msie = false, msie9 = false;
    /*@cc_on
      msie = true;
      @if (@_jscript_version >= 9)
        msie9 = true;
      @end
    @*/

    if (!msie || msie && msie9) {
      hljs.highlightAll()
      hljs.initLineNumbersOnLoad();
    }
})();
</script>

<div class="footer">
    
    <div style="float:right;">generated on 2023-11-02 22:13</div>
</div>
</body>
</html>
